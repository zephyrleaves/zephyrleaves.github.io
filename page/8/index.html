
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>装逼程序员</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="淘宝文通">
    

    
    <meta property="og:type" content="website">
<meta property="og:title" content="装逼程序员">
<meta property="og:url" content="http://blog.zephyrleaves.net/page/8/index.html">
<meta property="og:site_name" content="装逼程序员">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="装逼程序员">
<meta name="twitter:creator" content="@zephyrleaves">

    
    <link rel="alternative" href="/atom.xml" title="装逼程序员" type="application/atom+xml">
    
    
    <link rel="icon" href="/favicon.png">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.svg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.svg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/jacman.svg" alt="装逼程序员" title="装逼程序员"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="装逼程序员">装逼程序员</a></h1>
				<h2 class="blog-motto">无装逼不程序</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">首页</a></li>
					
						<li><a href="/about">关于我</a></li>
					
						<li><a href="/comment">给我留言</a></li>
					
						<li><a href="/archives">归档</a></li>
					
					<li>
 					
						<form class="search">
							<label>Search</label>
						<input type="text" id="ts-search-input" name="q" size="30" placeholder="搜索"><br>
						</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/50/" title="用hibernate Synchronizer 3生成Spring DAO" itemprop="url">用hibernate Synchronizer 3生成Spring DAO</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="淘宝文通" target="_blank" itemprop="author">淘宝文通</a>
		
  <p class="article-time">
    <time datetime="2007-01-26T07:48:43.000Z" itemprop="datePublished"> 发表于 2007-01-26</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>hibernate Synchronizer 是一款生成hibernate cfg、hbm、pojo、dao代码的工具。相比较其它的同类工具，hibernate Synchronizer生成的代码比较优秀，还有它的同步功能，可以为我们省去很多时间，但遗憾的时，他不支持Spring DAO的生成。</p>
<p>hibernate Synchronizer生成的DAO是自带session管理了，如果单纯的给其DAO加上HibernateDaoSupport就是导致混乱。而且发现其DAO是以单例方式存在的。</p>
<p>幸好hibernate Synchronizer 的生成代码方式是基于模版方式，这就给了很大的空间来编写自己的模版，来生成代码。</p>
<p>下面我就贴一个自己写的BaseRootDao，去掉了其自带的Session管理代码，修改了原来的方法，以基于HibernateDaoSupport。</p>
<p>&nbsp;</p>
<p>import java.io.Serializable;<br>import java.util.Collection;<br>import java.util.List;</p>
<p>import org.apache.log4j.Logger;<br>import org.hibernate.HibernateException;<br>import org.hibernate.SQLQuery;<br>import org.hibernate.Session;<br>import org.hibernate.criterion.DetachedCriteria;<br>import org.hibernate.criterion.Expression;<br>import org.hibernate.criterion.Order;<br>import org.springframework.orm.hibernate3.HibernateCallback;<br>import org.springframework.orm.hibernate3.support.HibernateDaoSupport;</p>
<p>public abstract class BaseRootDAO extends HibernateDaoSupport {<br>&nbsp;/<em>*<br>&nbsp; </em> Logger for this class<br>&nbsp; */<br>&nbsp;private static final Logger log = Logger.getLogger(BaseRootDAO.class);</p>
<p>&nbsp;/<em>*<br>&nbsp; </em> Return the specific Object class that will be used for class-specific<br>&nbsp; <em> implementation of this DAO.<br>&nbsp; </em><br>&nbsp; <em> @return the reference Class<br>&nbsp; </em>/<br>&nbsp;protected abstract Class getReferenceClass();</p>
<p>&nbsp;/<em>*<br>&nbsp; </em> Used by the base DAO classes but here for your modification Get object<br>&nbsp; <em> matching the given key and return it.<br>&nbsp; </em>/<br>&nbsp;protected Object get(Class refClass, Serializable key) {<br>&nbsp;&nbsp;log.debug(&quot;get &quot; + refClass + &quot; instance with id: &quot; + key);<br>&nbsp;&nbsp;try {<br>&nbsp;&nbsp;&nbsp;// 使用getHibernateTemplate()去操作DB。<br>&nbsp;&nbsp;&nbsp;return getHibernateTemplate().get(refClass, key);<br>&nbsp;&nbsp;} catch (RuntimeException re) {<br>&nbsp;&nbsp;&nbsp;log.error(&quot;get failed&quot;, re);<br>&nbsp;&nbsp;&nbsp;throw re;<br>&nbsp;&nbsp;}</p>
<p>&nbsp;}</p>
<p>&nbsp;/<em>*<br>&nbsp; </em> Used by the base DAO classes but here for your modification Load object<br>&nbsp; <em> matching the given key and return it.<br>&nbsp; </em>/<br>&nbsp;protected Object load(Class refClass, Serializable key) {<br>&nbsp;&nbsp;log.debug(&quot;load &quot; + refClass + &quot; instance with id: &quot; + key);<br>&nbsp;&nbsp;try {<br>&nbsp;&nbsp;&nbsp;// 使用getHibernateTemplate()去操作DB。<br>&nbsp;&nbsp;&nbsp;return getHibernateTemplate().load(refClass, key);<br>&nbsp;&nbsp;} catch (RuntimeException re) {<br>&nbsp;&nbsp;&nbsp;log.error(&quot;load failed&quot;, re);<br>&nbsp;&nbsp;&nbsp;throw re;<br>&nbsp;&nbsp;}</p>
<p>&nbsp;}</p>
<p>&nbsp;/<em>*<br>&nbsp; </em> Return all objects related to the implementation of this DAO with no<br>&nbsp; <em> filter.<br>&nbsp; </em>/<br>&nbsp;public java.util.List findAll() {</p>
<p>&nbsp;&nbsp;return findAll(getDefaultOrder());</p>
<p>&nbsp;}</p>
<p>&nbsp;/<em>*<br>&nbsp; </em> Return all objects related to the implementation of this DAO with no<br>&nbsp; <em> filter. Use the session given.<br>&nbsp; </em><br>&nbsp; <em> @param s<br>&nbsp; </em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the Session<br>&nbsp; */<br>&nbsp;public java.util.List findAll(Order defaultOrder) {</p>
<p>&nbsp;&nbsp;DetachedCriteria crit = DetachedCriteria.forClass(getReferenceClass());<br>&nbsp;&nbsp;if (null != defaultOrder)<br>&nbsp;&nbsp;&nbsp;crit.addOrder(defaultOrder);<br>&nbsp;&nbsp;return getHibernateTemplate().findByCriteria(crit);</p>
<p>&nbsp;}</p>
<p>&nbsp;/<em>*<br>&nbsp; </em> @param crit<br>&nbsp; <em> @return<br>&nbsp; </em>/<br>&nbsp;public java.util.List findByDetachedCriteria(DetachedCriteria crit) {<br>&nbsp;&nbsp;return getHibernateTemplate().findByCriteria(crit);<br>&nbsp;}</p>
<p>&nbsp;/<em>*<br>&nbsp; </em> Return all objects related to the implementation of this DAO with a<br>&nbsp; <em> filter. Use the session given.<br>&nbsp; </em><br>&nbsp; <em> @param propName<br>&nbsp; </em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the name of the property to use for filtering<br>&nbsp; <em> @param filter<br>&nbsp; </em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the value of the filter<br>&nbsp; */<br>&nbsp;protected DetachedCriteria findFiltered(String propName, Object filter) {<br>&nbsp;&nbsp;return findFiltered(propName, filter, getDefaultOrder());<br>&nbsp;}</p>
<p>&nbsp;/<em>*<br>&nbsp; </em> Return all objects related to the implementation of this DAO with a<br>&nbsp; <em> filter. Use the session given.<br>&nbsp; </em><br>&nbsp; <em> @param s<br>&nbsp; </em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the Session<br>&nbsp; <em> @param propName<br>&nbsp; </em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the name of the property to use for filtering<br>&nbsp; <em> @param filter<br>&nbsp; </em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the value of the filter<br>&nbsp; <em> @param orderProperty<br>&nbsp; </em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the name of the property used for ordering<br>&nbsp; */<br>&nbsp;protected DetachedCriteria findFiltered(String propName, Object filter,<br>&nbsp;&nbsp;&nbsp;Order order) {<br>&nbsp;&nbsp;DetachedCriteria crit = DetachedCriteria.forClass(getReferenceClass());<br>&nbsp;&nbsp;crit.add(Expression.eq(propName, filter));<br>&nbsp;&nbsp;if (null != order)<br>&nbsp;&nbsp;&nbsp;crit.addOrder(order);<br>&nbsp;&nbsp;return crit;<br>&nbsp;}</p>
<p>&nbsp;protected Order getDefaultOrder() {<br>&nbsp;&nbsp;return null;<br>&nbsp;}</p>
<p>&nbsp;/<em>*<br>&nbsp; </em> Used by the base DAO classes but here for your modification Persist the<br>&nbsp; <em> given transient instance, first assigning a generated identifier. (Or<br>&nbsp; </em> using the current value of the identifier property if the assigned<br>&nbsp; <em> generator is used.)<br>&nbsp; </em>/<br>&nbsp;protected Serializable save(final Object obj) {<br>&nbsp;&nbsp;return getHibernateTemplate().save(obj);<br>&nbsp;}</p>
<p>&nbsp;/<em>*<br>&nbsp; </em> Used by the base DAO classes but here for your modification Either save()<br>&nbsp; <em> or update() the given instance, depending upon the value of its<br>&nbsp; </em> identifier property.<br>&nbsp; */<br>&nbsp;protected void saveOrUpdate(final Object obj) {<br>&nbsp;&nbsp;getHibernateTemplate().saveOrUpdate(obj);</p>
<p>&nbsp;}</p>
<p>&nbsp;/<em>*<br>&nbsp; </em> Used by the base DAO classes but here for your modification Update the<br>&nbsp; <em> persistent state associated with the given identifier. An exception is<br>&nbsp; </em> thrown if there is a persistent instance with the same identifier in the<br>&nbsp; <em> current session.<br>&nbsp; </em><br>&nbsp; <em> @param obj<br>&nbsp; </em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a transient instance containing updated state<br>&nbsp; */<br>&nbsp;protected void update(final Object obj) {</p>
<p>&nbsp;&nbsp;getHibernateTemplate().update(obj);</p>
<p>&nbsp;}</p>
<p>&nbsp;/<em>*<br>&nbsp; </em> Delete all objects returned by the query<br>&nbsp; */<br>&nbsp;protected int delete(final Collection query) {<br>&nbsp;&nbsp;int size = query.size();<br>&nbsp;&nbsp;getHibernateTemplate().deleteAll(query);<br>&nbsp;&nbsp;return size;<br>&nbsp;}</p>
<p>&nbsp;/<em>*<br>&nbsp; </em> Used by the base DAO classes but here for your modification Remove a<br>&nbsp; <em> persistent instance from the datastore. The argument may be an instance<br>&nbsp; </em> associated with the receiving Session or a transient instance with an<br>&nbsp; <em> identifier associated with exi<br>sting persistent state.<br>&nbsp; </em>/<br>&nbsp;protected void delete(final Object obj) {<br>&nbsp;&nbsp;getHibernateTemplate().delete(obj);<br>&nbsp;}</p>
<p>&nbsp;/<em>*<br>&nbsp; </em> Used by the base DAO classes but here for your modification Re-read the<br>&nbsp; <em> state of the given instance from the underlying database. It is<br>&nbsp; </em> inadvisable to use this to implement long-running sessions that span many<br>&nbsp; <em> business tasks. This method is, however, useful in certain special<br>&nbsp; </em> circumstances.<br>&nbsp; */<br>&nbsp;protected void refresh(Object obj) {<br>&nbsp;&nbsp;getHibernateTemplate().refresh(obj);</p>
<p>&nbsp;}</p>
<p>&nbsp;protected void throwException(Throwable t) {<br>&nbsp;&nbsp;if (t instanceof HibernateException)<br>&nbsp;&nbsp;&nbsp;throw (HibernateException) t;<br>&nbsp;&nbsp;else if (t instanceof RuntimeException)<br>&nbsp;&nbsp;&nbsp;throw (RuntimeException) t;<br>&nbsp;&nbsp;else<br>&nbsp;&nbsp;&nbsp;throw new HibernateException(t);<br>&nbsp;}</p>
<p>&nbsp;// 當遇到HibernateTemplate沒提供，非用session才行的時候，用這種方式寫成HibernateCallback。<br>&nbsp;// 原則還是讓session交給Spring去管理。<br>&nbsp;public java.util.List findBySQL(final String queryString,<br>&nbsp;&nbsp;&nbsp;final String alias, final Class refClass) {<br>&nbsp;&nbsp;log.debug(&quot;findBySQL queryString &quot; + queryString);<br>&nbsp;&nbsp;return (List) getHibernateTemplate().execute(new HibernateCallback() {<br>&nbsp;&nbsp;&nbsp;public Object doInHibernate(Session session)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throws HibernateException {<br>&nbsp;&nbsp;&nbsp;&nbsp;SQLQuery sqlQ = session.createSQLQuery(queryString);<br>&nbsp;&nbsp;&nbsp;&nbsp;if (alias == null) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sqlQ.addEntity(refClass == null ? getReferenceClass()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: refClass);<br>&nbsp;&nbsp;&nbsp;&nbsp;} else {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sqlQ.addEntity(alias,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;refClass == null ? getReferenceClass() : refClass);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;return sqlQ.list();<br>&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;}, true);<br>&nbsp;}</p>
<p>&nbsp;</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/技术/">技术</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Java/">Java</a><a href="/tags/Eclipse/">Eclipse</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/50/#comments" class="ds-thread-count comments-count-link" data-thread-key="50/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/49/" title="Hibernate+Spring 对DAO的处理实列(转)" itemprop="url">Hibernate+Spring 对DAO的处理实列(转)</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="淘宝文通" target="_blank" itemprop="author">淘宝文通</a>
		
  <p class="article-time">
    <time datetime="2007-01-23T03:38:42.000Z" itemprop="datePublished"> 发表于 2007-01-23</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><span></span></p>
<p>package infoweb.dao;</p>
<p>import java.util.List;<br>import java.util.Iterator;</p>
<p>import infoweb.pojo.Info;</p>
<p>import net.sf.hibernate.HibernateException;<br>import net.sf.hibernate.Query;<br>import net.sf.hibernate.Session;</p>
<p>import org.springframework.orm.hibernate.HibernateCallback;<br>import org.springframework.orm.hibernate.support.HibernateDaoSupport;</p>
<p>/**</p>
<ul>
<li><p>Title: </p>
<p>*</p>
</li>
</ul>
<p>Description: </p>
<p> *</p>
<p>Copyright: Copyright (c) 2004</p>
<p> *</p>
<p>Company: </p>
<ul>
<li>@version 1.0<br>*/</li>
</ul>
<p>

</p><p>public class InfoDAOImpl extends HibernateDaoSupport implements IInfoDAO {<br>  /**</p>
<ul>
<li><p>构造函数<br>*/<br>public InfoDAOImpl() {<br>super();<br>}</p>
<p>/**</p>
</li>
<li>增加记录</li>
<li><p>@param info Info<br>*/<br>public void setInfo(Info info) throws Exception {<br>getHibernateTemplate().save(info);<br>}</p>
<p>/**</p>
</li>
<li>通过ID取得记录</li>
<li>@param id String</li>
<li><p>@return Info<br>*/<br>public Info getInfoById(String id) throws Exception {<br>Info info = (Info) getHibernateTemplate().load(Info.class, id);<br>return info;<br>}</p>
<p>/**</p>
</li>
<li>修改记录</li>
<li><p>@param Info info<br>*/<br>public void modifyInfo(Info info) throws Exception {<br>getHibernateTemplate().update(info);<br>}</p>
<p>/**</p>
</li>
<li>删除记录</li>
<li><p>@param Info info<br>*/<br>public void removeInfo(Info info) throws Exception {<br>getHibernateTemplate().delete(info);<br>}</p>
<p>////////////////////////////////////////////////////////<br>/////                                                ///<br>/////以下部份不带审核功能                              ///<br>/////                                                ///<br>////////////////////////////////////////////////////////</p>
<p>/**</p>
</li>
<li>取记录总数</li>
<li><p>@return int<br><em>/<br>public int getInfosCount() throws Exception {<br>int count = 0;<br>String queryString = &quot;select count(</em>) from Info&quot;;<br>count = ((Integer) getHibernateTemplate().iterate(queryString).next()).</p>
<pre><code>intValue();
</code></pre><p>return count;<br>}</p>
<p>/**</p>
</li>
<li>取所有记录集合</li>
<li><p>@return Iterator<br>*/<br>public Iterator getAllInfos() throws Exception {<br>Iterator iterator = null;<br>String queryString = &quot; select info from Info as info order by info.id desc&quot;;<br>List list = getHibernateTemplate().find(queryString);<br>iterator = list.iterator();<br>return iterator;<br>}</p>
<p>/**</p>
</li>
<li>取记录集合</li>
<li>@return Iterator</li>
<li><p>@param int position, int length<br>*/<br>public Iterator getInfos(int position, int length) throws Exception {<br>Iterator iterator = null;<br>String queryString = &quot; select info from Info as info order by info.id desc&quot;;<br>Query query = getHibernateTemplate().createQuery(getSession(), queryString);<br>//设置游标的起始点<br>query.setFirstResult(position);<br>//设置游标的长度<br>query.setMaxResults(length);<br>//记录生成<br>List list = query.list();<br>//把查询到的结果放入迭代器<br>iterator = list.iterator();<br>return iterator;<br>}</p>
<p>/**</p>
</li>
<li>取第一条记录</li>
<li>@throws Exception</li>
<li><p>@return Station<br>*/<br>public Info getFirstInfo() throws Exception {<br>Iterator iterator = null;<br>Info info = null;<br>String queryString = &quot;select info from Info as info order by info.id desc&quot;;<br>Query query = getHibernateTemplate().createQuery(getSession(), queryString);<br>//记录生成<br>List list = query.list();<br>//把查询到的结果放入迭代器<br>iterator = list.iterator();<br>if (iterator.hasNext()) {<br> info = (Info) iterator.next();<br>}<br>return info;<br>}</p>
<p>/**</p>
</li>
<li>取最后一条记录</li>
<li>@throws Exception</li>
<li><p>@return Station<br>*/<br>public Info getLastInfo() throws Exception {<br>Iterator iterator = null;<br>Info info = null;<br>String queryString = &quot;select info from Info as info order by info.id asc&quot;;<br>Query query = getHibernateTemplate().createQuery(getSession(), queryString);<br>//记录生成<br>List list = query.list();<br>//把查询到的结果放入迭代器<br>iterator = list.iterator();<br>if (iterator.hasNext()) {<br> info = (Info) iterator.next();<br>}<br>return info;</p>
<p>}</p>
<p>////////////////////////////////////////////////////////<br>/////                                                ///<br>///// 以下部份表中要有特定字段才能正确运行   个人和企业     ///<br>/////                                                ///<br>////////////////////////////////////////////////////////</p>
<p>/**</p>
</li>
<li>取符合条件记录总数, [表中要有 isperson 字段]</li>
<li>@return int</li>
<li><p>@param int isPerson<br>*/</p>
<p>public int getInfosCountByIsperson(int isPerson) throws Exception {<br>int count = 0;<br>String queryString =<br>   &quot;select count(*) from Info as info where info.isperson =&quot; + isPerson;<br>count = ((Integer) getHibernateTemplate().iterate(queryString).next()).</p>
<pre><code>intValue();
</code></pre><p>return count;<br>}</p>
<p>/**</p>
</li>
<li>取所有符合条件记录集合, 模糊查询条件.[表中要有 isperson 字段]</li>
<li>@return Iterator</li>
<li><p>@param int isPerson<br>*/</p>
<p>public Iterator getAllInfosByIsperson(int isPerson) throws Exception {<br>Iterator iterator = null;<br>String queryString = &quot; select info from Info as info where info.isperson =&quot; +</p>
<pre><code>isPerson + &amp;quot; order by info.id desc&amp;quot;;
</code></pre><p>List list = getHibernateTemplate().find(queryString);<br>//把查询到的结果放入迭代器<br>iterator = list.iterator();<br>return iterator;<br>}</p>
<p>/**</p>
</li>
<li>取符合条件记录集合, 模糊查询条件.[表中要有 isperson 字段]</li>
<li>@return Iterator</li>
<li><p>@param int isPerson,int position, int length<br>*/</p>
<p>public Iterator getInfosByIsperson(int isPerson, int position, int length) throws<br> Exception {<br>Iterator iterator = null;<br>String queryString = &quot; select info from Info as info where info.isperson =&quot; +</p>
<pre><code>isPerson + &amp;quot; order by info.id desc&amp;quot;;
</code></pre><p>//创建查询<br>Query query = getHibernateTemplate().createQuery(getSession(), queryString);<br>//设置游标的起始点<br>query.setFirstResult(position);<br>//设置游标的长度<br>query.setMaxResults(length);<br>//记录生成<br>List list = query.list();<br>//把查询到的结果放入迭代器<br>iterator = list.iterator();<br>return iterator;<br>}</p>
<p>////////////////////////////////////////////////////////<br>/////                                      </p>
<pre><code>///
</code></pre><p>///// 以下部份表中要有特定字段才能正确运行   查询部份      ///<br>/////                                                ///<br>///////////////////////////////////////////////////////<br>/**</p>
</li>
<li>取符合条件记录总数, 模糊查询条件.[表中要有 title 字段]</li>
<li>@return int</li>
<li><p>@param String text<br><em>/<br>public int getInfosCount(String text) throws Exception {<br>int count = 0;<br>count = ((Integer) getHibernateTemplate().iterate(<br>   &quot;select count(</em>) from Info as info where info.title like ‘%&quot; + text +<br>   &quot;%’&quot;).next()).intValue();<br>return count;<br>}</p>
<p>/**</p>
</li>
<li>取所有符合条件记录集合, 模糊查询条件.[表中要有 title 字段]</li>
<li>@return Iterator</li>
<li><p>@param String text<br>*/</p>
<p>public Iterator getAllInfos(String text) throws Exception {<br>Iterator iterator = null;<br>String queryString =<br>   &quot; select info from Info as info where info.title like ‘%&quot; + text +<br>   &quot;%’ order by info.id desc&quot;;<br>//创建查询<br>Query query = getHibernateTemplate().createQuery(getSession(), queryString);<br>//记录生成<br>List list = query.list();<br>//把查询到的结果放入迭代器<br>iterator = list.iterator();<br>return iterator;<br>}</p>
<p>/**</p>
</li>
<li>取符合条件记录集合, 模糊查询条件.[表中要有 title 字段]</li>
<li>@return Iterator</li>
<li><p>@param String text,int position, int length<br>*/<br>public Iterator getInfos(String text, int position, int length) throws<br> Exception {<br>Iterator iterator = null;<br>String queryString =<br>   &quot; select info from Info as info where info.title like ‘%&quot; + text +<br>   &quot;%’ order by info.id desc&quot;;</p>
<p>//创建查询<br>Query query = getHibernateTemplate().createQuery(getSession(), queryString);<br>//设置游标的起始点<br>query.setFirstResult(position);<br>//设置游标的长度<br>query.setMaxResults(length);<br>//记录生成<br>List list = query.list();<br>//把查询到的结果放入迭代器<br>iterator = list.iterator();<br>return iterator;<br>}</p>
<p>////////////////////////////////////////////////////////<br>/////                                                ///<br>///// 以下部份表中要有特定字段才能正确运行   注册相关      ///<br>/////                                                ///<br>////////////////////////////////////////////////////////</p>
<p>/**</p>
</li>
<li>取符合条件记录总数.[ 表中要有 registername 字段]</li>
<li>@return int</li>
<li><p>@param String text<br><em>/<br>public int getInfosCountByRegisterName(String registerName) throws Exception {<br>int count = 0;<br>count = ((Integer) getHibernateTemplate().iterate(<br>   &quot;select count(</em>) from Info as info where info.registername = ‘&quot; +<br>   registerName + &quot;’&quot;).next()).intValue();<br>return count;<br>}</p>
<p>/**</p>
</li>
<li>通过注册名取得一条记录,如有多条,只取第一条.[表中要有 registername字段]</li>
<li>@param registername String</li>
<li><p>@return Info<br>*/<br>public Info getInfoByRegisterName(String registerName) throws Exception {<br>Iterator iterator = null;<br>Info info = null;<br>String queryString =<br>   &quot; select info from Info as info where info.registername=’&quot; +<br>   registerName + &quot;’ order by info.id desc&quot;;<br>//创建查询<br>Query query = getHibernateTemplate().createQuery(getSession(), queryString);<br>//记录生成<br>List list = query.list();<br>//把查询到的结果放入迭代器<br>iterator = list.iterator();<br>if (iterator.hasNext()) {<br> info = (Info) iterator.next();<br>}<br>return info;<br>}</p>
<p>/**</p>
</li>
<li>通过注册名取得所有记录集合.[表中要有 registername字段]</li>
<li>@param registername String</li>
<li><p>@return Iterator<br>*/<br>public Iterator getAllInfosByRegisterName(String registerName) throws<br> Exception {<br>Iterator iterator = null;<br>String queryString =<br>   &quot; select info from Info as info where info.registername=’&quot; +<br>   registerName + &quot;’ order by info.id desc&quot;;<br>//创建查询<br>Query query = getHibernateTemplate().createQuery(getSession(), queryString);<br>//记录生成<br>List list = query.list();<br>//把查询到的结果放入迭代器<br>iterator = list.iterator();<br>return iterator;<br>}</p>
<p>/**</p>
</li>
<li>通过注册名取得记录列表.[表中要有 registername字段]</li>
<li>@param registername String</li>
<li><p>@return Iterator<br>*/<br>public Iterator getInfosByRegisterName(String registerName, int position,</p>
<pre><code>int length) throws Exception {
</code></pre><p>Iterator iterator = null;<br>String queryString =<br>   &quot; select info from Info as info where info.registername=’&quot; +<br>   registerName + &quot;’ order by info.id desc&quot;;<br>//创建查询<br>Query query = getHibernateTemplate().createQuery(getSession(), queryString);<br>//设置游标的起始点<br>query.setFirstResult(position);<br>//设置游标的长度<br>query.setMaxResults(length);<br>//记录生成<br>List list = query.list();<br>//把查询到的结果放入迭代器<br>iterator = list.iterator();<br>return iterator;<br>}</p>
<p>////////////////////////////////////////////////////////<br>/////                                                ///<br>///// 以下部份表中要有特定字段才能正确运行     树型版块     ///<br>/////                                                ///<br>////////////////////////////////////////////////////////</p>
<p>/**</p>
</li>
<li>取记录总数.[ 表中要有 board_id 字段]</li>
<li>@return int</li>
<li><p>@param String boardId<br>*/<br>public int getInfosCountByBoard(String boardId) throws Exception {<br>int count = 0;</p>
<p>count = ((Integer) getHibernateTemplate().iterate(<br>   &quot;select count(*) from Info as info where info.boardId = ‘&quot; + boardId +<br>   &quot;’&quot;).next()).intValue();</p>
<p>return count;<br>}</p>
<p>/**</p>
</li>
<li>通过版块名取得所有记录集合.[表中要有 board_id字段]</li>
<li>@param BoardId String</li>
<li><p>@return Iterator<br>*/<br>public Iterator getAllInfosByBoard(String boardId) throws Exception {<br>Iterator iterator = null;<br>String queryString = &quot; select info from Info as info where info.boardId=’&quot; +</p>
<pre><code>boardId + &amp;quot;&apos; order by info.id desc&amp;quot;;
</code></pre><p>//创建查询<br>Query query = getHibernateTemplate().createQuery(getSession(), queryString);<br>//记录生成<br>List list = query.list();<br>//把查询到的结果放入迭代器</p>
<p>iterator = list.iterator();<br>return iterator;<br>}</p>
<p>/**</p>
</li>
<li>通过版块名取得记录列表.[表中要有 board_id字段]</li>
<li>@param BoardId String</li>
<li><p>@return Iterator<br>*/<br>public Iterator getInfosByBoard(String boardId, int position, int length) throws<br> Exception {<br>Iterator iterator = null;<br>String queryString = &quot; select info from Info as info where info.boardId=’&quot; +</p>
<pre><code>boardId + &amp;quot;&apos; order by info.id desc&amp;quot;;
</code></pre><p>//创建查询<br>Query query = getHibernateTemplate().createQuery(getSession(), queryString);<br>//设置游标的起始点<br>query.setFirstResult(position);<br>//设置游标的长度<br>query.setMaxResults(length);<br>//记录生成<br>List list = query.list();<br>//把查询到的结果放入迭代器<br>iterator = list.iterator();</p>
<p>return iterator;</p>
<p>}</p>
<p>/**</p>
</li>
<li>取符合条件记录总数.[ 表中要有 board_id 字段,title]  模糊查询title</li>
<li>@return int</li>
<li><p>@param String boardId ,String text<br>*/<br>public int getInfosCountByBoard(String boardId, String text) throws Exception {<br>int count = 0;</p>
<p>count = ((Integer) getHibernateTemplate().iterate(<br>   &quot;select count(*) from Info as info where info.boardId=’&quot; + boardId +<br>   &quot;’ and info.title like ‘%&quot; + text + &quot;%’&quot;).next()).intValue();</p>
<p>return count;</p>
<p>}</p>
<p>/**</p>
</li>
<li>通过版块名取得记录列表.[表中要有 board_id字段]  模糊查询title</li>
<li>@param String boardID,int position, int length</li>
<li><p>@return Iterator<br>*/<br>public Iterator getInfosByBoard(String boardId, int position, int length,</p>
<pre><code>String text) throws Exception {
</code></pre><p>Iterator iterator = null;<br>String queryString = &quot; select info from Info as info where info.boardId=’&quot; +</p>
<pre><code>boardId + &amp;quot;&apos; and info.title like &apos;%&amp;quot; + text +
&amp;quot;%&apos; order by info.id desc&amp;quot;;
</code></pre><p>//创建查询<br>Query query = getHibernateTemplate().createQuery(getSession(), queryString);<br>//设置游标的起始点<br>query.setFirstResult(position);<br>//设置游标的长度<br>query.setMaxResults(length);<br>//记录生成<br>List list = query.list();<br>//把查询到的结果放入迭代器<br>iterator = list.iterator();<br>return iterator;</p>
<p>}</p>
<p>////////////////////////////////////////////////////////<br>/////                                                ///<br>/////以下部份带有审核功能                              ///<br>/////                                                ///<br>////////////////////////////////////////////////////////</p>
<p>/**</p>
</li>
<li>取记录总数</li>
<li>@return int</li>
<li><p>@param int isAuditing<br>*/<br>public int getInfosCount(int isAuditing) throws Exception {<br>int count = 0;</p>
<p>count = ((Integer) getHibernateTemplate().iterate(<br>   &quot;select count(*) from Info as info where info.isauditing=&quot; +<br>   isAuditing).next()).intValue();<br>return count;<br>}</p>
<p>/**</p>
</li>
<li>取所有记录集合</li>
<li>@return Iterator</li>
<li><p>@param int position, int length,int isAuditing<br>*/<br>public Iterator getAllInfos(int isAuditing) throws Exception {<br>Iterator iterator = null;<br>String queryString =<br>   &quot; select info from Info as info where info.isauditing=&quot; + isAuditing +<br>   &quot; order by info.id desc&quot;;<br>Query query = getHibernateTemplate().createQuery(getSession(), queryString);<br>//记录生成<br>List list = query.list();<br>//把查询到的结果放入迭代器<br>iterator = list.iterator();<br>return iterator;<br>}</p>
<p>/**</p>
</li>
<li>取记录集合</li>
<li>@return Iterator</li>
<li><p>@param int position, int length,int isAuditing<br>*/<br>public Iterator getInfos(int position, int length, int isAuditing) throws<br> Exception {<br>Iterator iterator = null;<br>String queryString =<br>   &quot; select info from Info as info where info.isauditing=&quot; + isAuditing +<br>   &quot; order by info.id desc&quot;;</p>
<p>Query query = getHibernateTemplate().createQuery(getSession(), queryString);<br>//设置游标的起始点<br>query.setFirstResult(position);<br>//设置游标的长度<br>query.setMaxResults(length);<br>//记录生成<br>List list = query.list();<br>//把查询到的结果放入迭代器<br>iterator = list.iterator();</p>
<p>return iterator;<br>}</p>
<p>////////////////////////////////////////////////////////////////<br>/////                                                       ///<br>///// 以下部份表中要有特定字段才能正确运行 有审核功能  个人和企业   ///<br>/////                                                       ///<br>///////////////////////////////////////////////////////////////</p>
<p>/**</p>
</li>
<li>取符合条件记录总数, [表中要有 isperson isAuditing 字段]</li>
<li>@return int</li>
<li><p>@param int isPerson,int isAuditing<br>*/</p>
<p>public int getInfosCountByIsperson(int isPerson, int isAuditing) throws<br> Exception {<br>int count = 0;</p>
<p>count = ((Integer) getHibernateTemplate().iterate(<br>   &quot;select count(*) from Info as info where info.isperson =&quot; + isPerson +<br>   &quot; and info.isauditing=&quot; + isAuditing).next()).intValue();</p>
<p>return count;<br>}</p>
<p>/**</p>
</li>
<li>取所有符合条件记录集合, 模糊查询条件.[表中要有 isperson isAuditing 字段]</li>
<li>@return Iterator</li>
<li><p>@param int isPerson,int isAuditing<br>*/</p>
<p>public Iterator getAllInfosByIsperson(int isPerson, int isAuditing) throws<br> Exception {<br>Iterator iterator = null;<br>String queryString = &quot; select info from Info as info where info.isperson =&quot; +</p>
<pre><code>isPerson + &amp;quot; and info.isauditing=&amp;quot; + isAuditing +
&amp;quot; order by info.id desc&amp;quot;;
</code></pre><p>Query query = getHibernateTemplate().createQuery(getSession(), queryString);<br>//记录生成<br>List list = query.list();<br>//把查询到的结果放入迭代器<br>iterator = list.iterator();</p>
<p>return iterator;<br>}</p>
<p>/**</p>
</li>
<li>取符合条件记录集合, 模糊查询条件.[表中要有 isperson isAuditing 字段]</li>
<li>@return Iterator</li>
<li><p>@param int isPerson,int position, int length,int isAuditing<br>*/</p>
<p>public Iterator getInfosByIsperson(int isPerson, int position, int length,</p>
<pre><code>int isAuditing) throws Exception {
</code></pre><p>Iterator iterator = null;<br>String queryString = &quot; select info from Info as info where info.isperson =&quot; +</p>
<pre><code>i
</code></pre></li>
</ul>
<p>sPerson + &quot; and info.isauditing=&quot; + isAuditing +<br>                         &quot; order by info.id desc&quot;;</p>
<pre><code>Query query = getHibernateTemplate().createQuery(getSession(), queryString);
//设置游标的起始点
query.setFirstResult(position);
//设置游标的长度
query.setMaxResults(length);
//记录生成
List list = query.list();
//把查询到的结果放入迭代器
iterator = list.iterator();

return iterator;
</code></pre><p>  }</p>
<p>  ////////////////////////////////////////////////////////<br>  /////                                                ///<br>  ///// 要有特定字段才能正确运行   有审核功能    查询部份    ///<br>  /////                                                ///<br>  ///////////////////////////////////////////////////////<br>  /**</p>
<ul>
<li>取符合条件记录总数, 模糊查询条件.[表中要有 title 字段]</li>
<li>@return int</li>
<li><p>@param String text,int isAuditing<br>*/<br>public int getInfosCount(String text, int isAuditing) throws Exception {<br>int count = 0;</p>
<p>count = ((Integer) getHibernateTemplate().iterate(<br>   &quot;select count(*) from Info as info where info.isauditing=&quot; +<br>   isAuditing + &quot; and info.title like ‘%&quot; + text + &quot;%’&quot;).next()).</p>
<pre><code>intValue();
</code></pre><p>return count;<br>}</p>
<p>/**</p>
</li>
<li>取所有符合条件记录集合, 模糊查询条件.[表中要有 title 字段]</li>
<li>@return Iterator</li>
<li><p>@param String text,int isAuditing<br>*/</p>
<p>public Iterator getAllInfos(String text, int isAuditing) throws Exception {<br>Iterator iterator = null;<br>String queryString =<br>   &quot; select info from Info as info where info.isauditing=&quot; + isAuditing +<br>   &quot; and info.title like ‘%&quot; + text + &quot;%’ order by info.id desc&quot;;</p>
<p>Query query = getHibernateTemplate().createQuery(getSession(), queryString);<br>//记录生成<br>List list = query.list();<br>//把查询到的结果放入迭代器<br>iterator = list.iterator();</p>
<p>return iterator;<br>}</p>
<p>/**</p>
</li>
<li>取符合条件记录集合, 模糊查询条件.[表中要有 title 字段]</li>
<li>@return Iterator</li>
<li><p>@param String text,int position, int length,int isAuditing<br>*/<br>public Iterator getInfos(String text, int position, int length,</p>
<pre><code>int isAuditing) throws Exception {
</code></pre><p>Iterator iterator = null;<br>String queryString =<br>   &quot; select info from Info as info where info.isauditing=&quot; + isAuditing +<br>   &quot; and info.title like ‘%&quot; + text + &quot;%’ order by info.id desc&quot;;</p>
<p>//创建查询<br>Query query = getHibernateTemplate().createQuery(getSession(), queryString);<br>//设置游标的起始点<br>query.setFirstResult(position);<br>//设置游标的长度<br>query.setMaxResults(length);<br>//记录生成<br>List list = query.list();<br>//把查询到的结果放入迭代器<br>iterator = list.iterator();</p>
<p>return iterator;<br>}</p>
<p>////////////////////////////////////////////////////////<br>/////                                                ///<br>///// 要有特定字段才能正确运行   有审核功能  注册相关      ///<br>/////                                                ///<br>////////////////////////////////////////////////////////</p>
<p>/**</p>
</li>
<li>取符合条件记录总数.[ 表中要有 registername isauditing字段]</li>
<li>@return int</li>
<li><p>@param String text,int isAuditing<br>*/<br>public int getInfosCountByRegisterName(String registerName, int isAuditing) throws<br> Exception {<br>int count = 0;</p>
<p>count = ((Integer) getHibernateTemplate().iterate(<br>   &quot;select count(*) from Info as info where info.isauditing=&quot; +<br>   isAuditing + &quot; and info.registername = ‘&quot; + registerName + &quot;’&quot;).next()).</p>
<pre><code>intValue();
</code></pre><p>return count;<br>}</p>
<p>/**</p>
</li>
<li>通过注册名取得一条记录,如有多条,只取第一条.[表中要有 registername isauditing字段]</li>
<li>@param registername String,int isAuditing</li>
<li><p>@return Info<br>*/<br>public Info getInfoByRegisterName(String registerName, int isAuditing) throws<br> Exception {<br>Iterator iterator = null;<br>Info info = null;</p>
<p>String queryString =<br>   &quot; select info from Info as info where info.isauditing=&quot; + isAuditing +<br>   &quot; and info.registername=’&quot; + registerName + &quot;’ order by info.id desc&quot;;</p>
<p>Query query = getHibernateTemplate().createQuery(getSession(), queryString);<br>//记录生成<br>List list = query.list();<br>//把查询到的结果放入迭代器<br>iterator = list.iterator();<br>if (iterator.hasNext()) {<br> info = (Info) iterator.next();<br>}</p>
<p>return info;<br>}</p>
<p>/**</p>
</li>
<li>通过注册名取得所有记录集合.[表中要有 registername isauditing字段]</li>
<li>@param registername String,int isAuditing</li>
<li><p>@return Iterator<br>*/<br>public Iterator getAllInfosByRegisterName(String registerName, int isAuditing) throws<br> Exception {<br>Iterator iterator = null;</p>
<p>String queryString =<br>   &quot; select info from Info as info where info.isauditing=&quot; + isAuditing +<br>   &quot; and info.registername=’&quot; + registerName + &quot;’ order by info.id desc&quot;;</p>
<p>Query query = getHibernateTemplate().createQuery(getSession(), queryString);<br>//记录生成<br>List list = query.list();<br>//把查询到的结果放入迭代器<br>iterator = list.iterator();</p>
<p>return iterator;<br>}</p>
<p>/**</p>
</li>
<li>通过注册名取得记录列表.[表中要有 registername isauditing字段]</li>
<li>@param registername String,int isAuditing</li>
<li><p>@return Iterator<br>*/<br>public Iterator getInfosByRegisterName(String registerName, int position,</p>
<pre><code>int length, int isAuditing) throws
</code></pre><p> Exception {<br>Iterator iterator = null;<br>String queryString =<br>   &quot; select info from Info as info where info.isauditing=&quot; + isAuditing +<br>   &quot; and info.registername=’&quot; + registerName + &quot;’ order by info.id desc&quot;;</p>
<p>//创建查询<br>Query query = getHibernateTemplate().createQuery(getSession(), queryString);<br>//设置游标的起始点<br>query.setFirstResult(position);<br>//设置游标的长度<br>query.setMaxResults(length);<br>//记录生成<br>List list = query.list();<br>//把查询到的结果放入迭代器<br>iterator = list.iterator();</p>
<p>return iterator;<br>}</p>
<p>////////////////////////////////////////////////////////<br>/////                                                ///<br>///// 要有特定字段才能正确运行   有审核功能 树</p>
</li>
</ul>
<p>型版块       ///<br>  /////                                                ///<br>  ////////////////////////////////////////////////////////</p>
<p>  /**</p>
<ul>
<li>取记录总数.[ 表中要有 board_id isauditing字段]</li>
<li>@return int</li>
<li><p>@param String boardId,int isAuditing<br>*/<br>public int getInfosCountByBoard(String boardId, int isAuditing) throws<br> Exception {<br>int count = 0;</p>
<p>count = ((Integer) getHibernateTemplate().iterate(<br>   &quot;select count(*) from Info as info where info.isauditing=&quot; +<br>   isAuditing + &quot; and info.boardId = ‘&quot; + boardId + &quot;’&quot;).next()).intValue();</p>
<p>return count;<br>}</p>
<p>/**</p>
</li>
<li>通过版块名取得所有记录集合.[表中要有 board_id isauditing字段]</li>
<li>@param BoardId String,int isAuditing</li>
<li><p>@return Iterator<br>*/<br>public Iterator getAllInfosByBoard(String boardId, int isAuditing) throws<br> Exception {<br>Iterator iterator = null;</p>
<p>String queryString =<br>   &quot; select info from Info as info where info.isauditing=&quot; + isAuditing +<br>   &quot; and info.boardId=’&quot; + boardId + &quot;’ order by info.id desc&quot;;</p>
<p>Query query = getHibernateTemplate().createQuery(getSession(), queryString);<br>//记录生成<br>List list = query.list();<br>//把查询到的结果放入迭代器<br>iterator = list.iterator();<br>return iterator;<br>}</p>
<p>/**</p>
</li>
<li>通过版块名取得记录列表.[表中要有 board_id isauditing字段]</li>
<li>@param BoardId String,int isAuditing</li>
<li><p>@return Iterator<br>*/<br>public Iterator getInfosByBoard(String boardId, int position, int length,</p>
<pre><code>int isAuditing) throws Exception {
</code></pre><p>Iterator iterator = null;<br>String queryString =<br>   &quot; select info from Info as info where info.isauditing=&quot; + isAuditing +<br>   &quot; and info.boardId=’&quot; + boardId + &quot;’ order by info.id desc&quot;;</p>
<p>//创建查询<br>Query query = getHibernateTemplate().createQuery(getSession(), queryString);<br>//设置游标的起始点<br>query.setFirstResult(position);<br>//设置游标的长度<br>query.setMaxResults(length);<br>//记录生成<br>List list = query.list();<br>//把查询到的结果放入迭代器<br>iterator = list.iterator();</p>
<p>return iterator;</p>
<p>}</p>
<p>/**</p>
</li>
<li>取符合条件记录总数.[ 表中要有 board_id isauditing字段,title]  模糊查询title</li>
<li>@return int</li>
<li><p>@param String boardId ,String text,int isAuditing<br>*/<br>public int getInfosCountByBoard(String boardId, String text, int isAuditing) throws<br> Exception {<br>int count = 0;</p>
<p>count = ((Integer) getHibernateTemplate().iterate(<br>   &quot;select count(*) from Info as info where info.isauditing=&quot; +<br>   isAuditing + &quot; and info.boardId=’&quot; + boardId +<br>   &quot;’ and info.title like ‘%&quot; +<br>   text + &quot;%’&quot;).next()).intValue();</p>
<p>return count;</p>
<p>}</p>
<p>/**</p>
</li>
<li>通过版块名取得记录列表.[表中要有 board_id字段 isauditing]  模糊查询title</li>
<li>@param String boardId,int position, int length,int isAuditing</li>
<li><p>@return Iterator<br>*/<br>public Iterator getInfosByBoard(String boardId, int position, int length,</p>
<pre><code>String text, int isAuditing) throws Exception {
</code></pre><p>Iterator iterator = null;<br>String queryString =<br>   &quot; select info from Info as info where info.isauditing=&quot; + isAuditing +<br>   &quot; and info.boardId=’&quot; + boardId + &quot;’ and info.title like ‘%&quot; + text +<br>   &quot;%’ order by info.id desc&quot;;</p>
<p>//创建查询<br>Query query = getHibernateTemplate().createQuery(getSession(), queryString);<br>//设置游标的起始点<br>query.setFirstResult(position);<br>//设置游标的长度<br>query.setMaxResults(length);<br>//记录生成<br>List list = query.list();<br>//把查询到的结果放入迭代器<br>iterator = list.iterator();</p>
<p>return iterator;</p>
<p>}</p>
</li>
</ul>
<p>}</p>
<p> </p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/技术/">技术</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Java/">Java</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/49/#comments" class="ds-thread-count comments-count-link" data-thread-key="49/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/48/" title="整合Tomcat服务器和Apache服务器(zt)" itemprop="url">整合Tomcat服务器和Apache服务器(zt)</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="淘宝文通" target="_blank" itemprop="author">淘宝文通</a>
		
  <p class="article-time">
    <time datetime="2007-01-22T10:44:50.000Z" itemprop="datePublished"> 发表于 2007-01-22</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p> 本文使用软件的下载地址  </p>
<p>(1)Windows  2000  Service  Pack  3.exe    下载地址:  </p>
<p><a href="http://download.microsoft.com/download/win2000platform/SP/SP3/NT5/CN/W2Ksp3.exe" target="_blank" rel="external">http://download.microsoft.com/download/win2000platform/SP/SP3/NT5/CN/W2Ksp3.exe</a>  </p>
<p>(2)j2sdk-1_4_1_02-windows-i586.exe    下载地址:  </p>
<p><a href="http://java.sun.com/webapps/download/Redirect/32167382/584747937728280705350560724608606933322" target="_blank" rel="external">http://java.sun.com/webapps/download/Redirect/32167382/584747937728280705350560724608606933322</a><br>8071972022813600060132859339008063305596058473206-3865/j2sdk-1_4_1_02-windows-i586.exe  </p>
<p>(3)jakarta-tomcat-4.1.18-LE-jdk14.exe    下载地址:  </p>
<p><a href="http://apache.linuxforum.net/dist/jakarta/tomcat-4/binaries/tomcat-4.1.18-LE-jdk14.exe" target="_blank" rel="external">http://apache.linuxforum.net/dist/jakarta/tomcat-4/binaries/tomcat-4.1.18-LE-jdk14.exe</a>  </p>
<p>(4)apache_2.0.44-win32-x86-no_ssl.msi下载地址:  </p>
<p><a href="http://apache.linuxforum.net/dist/httpd/binaries/win32/apache_2.0.44-win32-x86-no_ssl.msi" target="_blank" rel="external">http://apache.linuxforum.net/dist/httpd/binaries/win32/apache_2.0.44-win32-x86-no_ssl.msi</a>  </p>
<p>(5)mod_jk2-2.0.43.dll下载地址:  </p>
<p><a href="http://jakarta.apache.org/builds/jakarta-tomcat-connectors/jk2/release/v2.0.1/bin/win32/mod_jk2-2.0.43.dll" target="_blank" rel="external">http://jakarta.apache.org/builds/jakarta-tomcat-connectors/jk2/release/v2.0.1/bin/win32/mod_jk2-2.0.43.dll</a>                </p>
<p>前言:用mod_jk2来整合Tomcat服务器和Apache服务器，简单多了。  </p>
<p>一、安装Windows  2000  Professional  </p>
<p>安装完Windows  2000  Professional后，强烈建议安装Windows  2000  Service  Pack  3，因为在Windows  2000下安装<br>最新的JDK时需要事先安装Windows  2000  Service  Pack  3。  </p>
<p>二、安装Java的JDK（j2sdk-1_4_1_02-windows-i586.exe）  </p>
<p>安装时按照默认目录：  C:\j2sdk1.4.1_02，JDK安装完成后需要设置系统变量。在桌面上右击&quot;我的电脑&quot;，点&quot;属性&quot;，<br>选择&quot;高级&quot;，点&quot;系统变量&quot;，在&quot;系统变量&quot;中做如下设置：  </p>
<p>(1)找到PATH，点&quot;编辑&quot;，只在&quot;变量值&quot;里最后添加:  C:\j2sdk1.4.1_02\bin;  </p>
<p>然后点&quot;确定&quot;。  </p>
<p>(2)点&quot;新建&quot;，在&quot;变量名&quot;里输入:    CLASSPATH    </p>
<p>在&quot;变量值&quot;里输入:    .;C:\j2sdk1.4.1_02\lib\tools.jar;  </p>
<p>然后点&quot;确定&quot;，注意前面那个点，它表示当前目录，包含了该目录后，就可以到任意目录下去执行需要用到该目录下某个<br>类的    Java    程序。  </p>
<p>三、安装Tomcat（jakarta-tomcat-4.1.18-LE-jdk14.exe）  </p>
<p>安装时只改变安装目录，设置为  C:\Tomcat  4.1，其余全为默认，密码自己设定。Tomcat安装完成后也需要设置系统变量，<br>在桌面上右击&quot;我的电脑&quot;，点&quot;属性&quot;，选择&quot;高级&quot;，点&quot;系统变量&quot;，在&quot;系统变量&quot;中做如下设置：  </p>
<p>(1)  点&quot;新建&quot;，在&quot;变量名&quot;里输入:      JAVA_HOME  </p>
<p>   在&quot;变量值&quot;里输入:      C:\j2sdk1.4.1_02  </p>
<p>   然后点&quot;确定&quot;保存。  </p>
<p>(2)  点&quot;新建&quot;，在&quot;变量名&quot;里输入:      TOMCAT_HOME  </p>
<p>   在&quot;变量值&quot;里输入:      C:\Tomcat  4.1  </p>
<p>   然后点&quot;确定&quot;保存。  </p>
<p>四、测试Tomcat  </p>
<p>(1)启动Tomcat服务器，在&quot;开始&quot;  -&gt;  &quot;程序&quot;  -&gt;  &quot;Apache  Tomcat  4.1&quot;中点&quot;Start  Tomcat&quot;  (出现一个&quot;命令提示符&quot;</p>
<p>窗口，不要关闭它)，Tomcat服务器就开始运行了。  </p>
<p>(2)在IE中输入      <a href="http://localhost:8080/" target="_blank" rel="external">http://localhost:8080/</a>    后，看到Tomcat的首页(上面有只小猫)表示安装成功。  </p>
<p>(3)关闭Tomcat服务器，在&quot;开始&quot;-&gt;  &quot;程序&quot;  -&gt;&quot;  Apache  Tomcat  4.1&quot;中点&quot;Stop  Tomcat&quot;  (原来开服务器时的&quot;命令提示</p>
<p>符&quot;窗口便自动关闭)，Tomcat服务器就停止运行了。  </p>
<p>五、建立虚拟目录  </p>
<p>Tomcat服务器有默认的虚拟目录（C:\Tomcat  4.1\  webapps），但是我们开发网站时一般放在自建的文件夹下，如果想把一般</p>
<p>文件夹变成Tomcat认识的虚拟目录，我们需要自己配置。现在结合实例介绍配置Tomcat虚拟目录的方法：  </p>
<pre><code>(1)在D盘建立Zgtt文件夹，然后在文件夹下做个简单的JSP文件（用于测试），命名为index.jsp  ，内容如下:  

      &amp;lt;html&amp;gt;  

      &amp;lt;head&amp;gt;  

      &amp;lt;title&amp;gt;Hello&amp;lt;/title&amp;gt;  

      &amp;lt;/head&amp;gt;  

      &amp;lt;body&amp;gt;  

      &amp;lt;%  out.println(&amp;quot;Hello  World!&amp;quot;);  %&amp;gt;  

      &amp;lt;/body&amp;gt;  
</code></pre><p>&lt;/html&gt;  </p>
<p>(2)关闭Tomcat服务器(方法见&quot;四、测试Tomcat&quot;中(3)说明)。  </p>
<p>(3)在C盘下，打开&quot;Tomcat  4.1&quot;文件夹，然后再打开子目录&quot;conf&quot;找到&quot;server.xml&quot;文件，用记事本打开它并查找&quot;&lt;/Host&gt;&quot;，</p>
<p>在&lt;/Host&gt;前面添加这句代码：&lt;Context  path=&quot;/zgtt&quot;  docBase=&quot;D:\Zgtt&quot;  debug=&quot;0&quot;  reloadable=&quot;true&quot;  </p>
<p>crossContext=&quot;true&quot;&gt;&lt;/Context&gt;    ，然后保存文件。  </p>
<p>(4)启动Tomcat服务器(方法见&quot;四、测试Tomcat&quot;中(1)说明)。  </p>
<p>(5)在IE中输入      <a href="http://localhost:8080/zgtt/index.jsp" target="_blank" rel="external">http://localhost:8080/zgtt/index.jsp</a>  链接后，如果看到&quot;Hello  World!  &quot;  后表示虚拟目录zgtt设置成功。  </p>
<p>六、安装Apache（apache_2.0.44-win32-x86-no_ssl.msi）  </p>
<p>(1)安装时改变安装目录，设置为  C:\。  </p>
<p>(2)参数设置可以任意取值(注意要按照提示的格式填写)。  </p>
<p>(3)修改一个小错误：  </p>
<p>Apache2.0.44有一个小问题，默认安装成功后，在Apache2主目录下的htdocs目录中没有index.html文件，我们须将该目录</p>
<p>下的index.html.en改名为index.html。  </p>
<p>(4)解决不自动显示中文：编辑C:\Apache2\conf目录下配置文件httpd.conf。用记事本打开它并查找&quot;AddDefaultCharset  </p>
<p>ISO-8859-1&quot;，注释掉&quot;AddDefaultCharset  ISO-8859-1&quot;，即在&quot;AddDefaultCharset  ISO-8859-1&quot;前加个&quot;#&quot;字符。</p>
<p>然后在&quot;#AddDefaultCharset  ISO-8859-1&quot;下面添加如下三行：  </p>
<p>AddDefaultCharset  GB2312  </p>
<p>DefaultLanguage  GB2312  </p>
<p>AddLanguage  zh-cn  .cn  </p>
<p>七、测试Apache  </p>
<p>安装配置完Apache服务器后，我们需要测试一下，看看是否安装成功。  </p>
<p>(1)启动Apache服务器：点&quot;开始&quot;  -&gt;  &quot;程序&quot;    -&gt;  &quot;Apache  HTTP  Server  2.0.44&quot;  -&gt;  &quot;Control  Apache  Server&quot;  -&gt;</p>
<p>  &quot;Monitor  Apache  Servers&quot;，如果在系统“拖盘”处看见Apache的羽毛图标上出现绿色小三角.则表示Apache服务器成功启动了。  </p>
<p>(2)在IE中输入&quot;<a href="http://localhost/" target="_blank" rel="external">http://l<br>ocalhost</a>&quot;后，看到Apache的带有羽毛的apache首页，表示安装成功。  </p>
<p>(3)关闭Apache服务器：单击系统“拖盘”里Apache的图标，选&quot;Stop&quot;，如果在系统“拖盘”处看见Apache的羽毛图标上出现红色的</p>
<p>圆点.则表示Apache服务器成功关闭了。  </p>
<p>八、整合Apache服务器和Tomcat服务器  </p>
<p>这是最关键的一步，一定要仔细按照步骤配置：  </p>
<p>(1)关掉Apache服务器(方法见&quot;七、测试Apache&quot;中(3)说明)。  </p>
<p>(2)关掉Tomcat服务器.  (方法见&quot;四、测试Tomcat&quot;中(3)说明)。  </p>
<p>(3)将mod_jk2-2.0.43.dll复制到C:\Apache2\modules子目录下。  </p>
<p>(4)编辑C:\Apache2\conf目录下配置文件httpd.conf。在此文件的最后添加以  </p>
<p>下几行：  </p>
<pre><code>    LoadModule  jk2_module  modules/mod_jk2-2.0.43.dll    

    &amp;lt;VirtualHost  *&amp;gt;    

    ServerAdmin  [webmaster@dummy-host.example.com](mailto:webmaster@dummy-host.example.com)    

    DocumentRoot  &amp;quot;C:/Tomcat  4.1/webapps&amp;quot;    

    ServerName  dummy-host.example.com    

    DirectoryIndex  index.htm  index.html  index.jsp    

    ErrorLog  logs/dummy-host.example.com-error_log    

    CustomLog  logs/dummy-host.example.com-access_log  common    

    &amp;lt;/VirtualHost&amp;gt;    

注意DocumentRoot一行要与自己的TOMCAT安装目录一致。    
</code></pre><p>DirectoryIndex一行是为了自动解释JSP类型的文件。  </p>
<p>(5)在C:\Apache2\conf目录下新建一个文件，一定命名为workers2.properties。  workers2.properties内容如下：  </p>
<p>[shm]    </p>
<p>file=${serverRoot}/logs/shm.file    </p>
<p>size=1048576    </p>
<h1 id="Example-socket-channel，-override-port-and-host"><a href="#Example-socket-channel，-override-port-and-host" class="headerlink" title="Example  socket  channel，  override  port  and  host."></a>Example  socket  channel，  override  port  and  host.</h1><p>[channel.socket:localhost:8009]    </p>
<p>port=8009    </p>
<p>host=127.0.0.1  </p>
<h1 id="define-the-worker"><a href="#define-the-worker" class="headerlink" title="define  the  worker"></a>define  the  worker</h1><p>[ajp13:localhost:8009]    </p>
<p>channel=channel.socket:localhost:8009    </p>
<h1 id="Uri-mapping"><a href="#Uri-mapping" class="headerlink" title="Uri  mapping"></a>Uri  mapping</h1><p>[uri:/*]    </p>
<p>worker=ajp13:localhost:8009  </p>
<p>九、测试Apache服务器和Tomcat服务器整合  </p>
<p>(1)启动Apache服务器(方法见&quot;7.测试Apache&quot;中(1)说明)。  </p>
<p>(2)启动Tomcat服务器(方法见&quot;4.测试Tomcat&quot;中(1)说明)。  </p>
<p>(3)在IE中输入&quot;<a href="http://localhost:8080/zgtt/index.jsp" target="_blank" rel="external">http://localhost:8080/zgtt/index.jsp</a>&quot;。链接后，如果看到&quot;Hello  World!  &quot;，表明Tomcat启动成功。  </p>
<p>(4)在IE中输入&quot;<a href="http://localhost/zgtt/index.jsp" target="_blank" rel="external">http://localhost/zgtt/index.jsp</a>&quot;。链接后，如果再次看到&quot;Hello  World!  &quot;，则表明Apache服务器和Tomcat服<br>务器整合成功。  </p>
<p>&nbsp;</p>
<p>注：<br>然后安装。（我的安装在G:\Program Files\Apache Group下<br>G:\Program Files\Apache Group\Apache2<br>G:\Program Files\Apache Group\Tomcat 5.0.7）<br>然后把mod_jk_2.0.46.dll复制到G:\Program Files\Apache Group\Apache2\modules下。</p>
<p>先开始修改 G:\Program Files\Apache Group\Apache2\conf\http.conf：<br>查找&quot;DirectoryIndex&quot;，在index.html后添加index.jsp<br>成下面这样：<br>DirectoryIndex index.html index.jsp index.html.var<br>查找 &quot;Listen&quot;，修改端口号成下面这样：</p>
<p>#Listen 12.34.56.78:80<br>Listen 80<br>在http.conf的结尾加上以下内容：<br> LoadModule jk_module modules/mod_jk_2.0.46.dll<br> JkWorkersFile &quot;G:/Program Files/Apache Group/Tomcat 5.0.7/conf/workers.properties&quot;<br> JkLogFile &quot;G:/Program Files/Apache Group/Tomcat 5.0.7/logs/mod_jk2.log&quot;<br> JkLogLevel info<br>&lt;VirtualHost <em>&gt;<br>ServerAdmin <a href="mailto:lnboy@delphibbs.com" target="_blank" rel="external">lnboy@delphibbs.com</a><br>DocumentRoot &quot;G:/Program Files/Apache Group/Tomcat 5.0.7/webapps/ROOT&quot;<br>ServerName <a href="http://www.delphibbs.com/" target="_blank" rel="external">www.delphibbs.com</a><br>DirectoryIndex index.html index.htm index.jsp<br>ErrorLog logs/shsc-error_log.txt<br>CustomLog logs/shsc-access_log.txt common<br>JkMount /servlet/</em> ajp13 #让Apache支持对servlet传送，用以Tomcat解析<br>JkMount /*.jsp ajp13 #让Apache支持对jsp传送，用以Tomcat解析<br>&lt;/VirtualHost&gt;<br>保存http.conf。</p>
<p>再在G:\Program Files\Apache Group\Tomcat 5.0.7\conf下新建workers.properties。</p>
<p>写入以下内容：<br>workers.tomcat_home=G:\Program Files\Apache Group\Tomcat 5.0.7<br>workers.java_home=G:\JBuilder9\jdk1.4<br>ps=\<br>worker.list=ajp13<br>worker.ajp13.port=8009<br>worker.ajp13.host=localhost<br>worker.ajp13.type=ajp13<br>worker.ajp13.lbfactor=1</p>
<p>保存workers.properties。</p>
<p>最后是先启动tomcat，再启动Apache，就成功了 。<br>分别打开<a href="http://127.0.0.1/" target="_blank" rel="external">http://127.0.0.1/</a>和<a href="http://127.0.0.1:8080/" target="_blank" rel="external">http://127.0.0.1:8080/</a>都可以看见tomcat的欢迎画面。<br>在G:\Program Files\Apache Group\Tomcat 5.0.7\webapps\ROOT下新建一个demo.htm文件，<br>里面写上hello,world!!!，然后保存。<br>再打开<a href="http://127.0.0.1/demo.htm" target="_blank" rel="external">http://127.0.0.1/demo.htm</a>和<a href="http://127.0.0.1:8080/demo.htm" target="_blank" rel="external">http://127.0.0.1:8080/demo.htm</a>，<br>都可以看见刚才新建的页面。</p>
<p>但是此时如果打开<a href="http://127.0.0.1/jsp-examples/" target="_blank" rel="external">http://127.0.0.1/jsp-examples/</a>是会出现404错误，<br>而<a href="http://127.0.0.1:8080/jsp-examples/" target="_blank" rel="external">http://127.0.0.1:8080/jsp-examples/</a>则正常。<br>接下来我们需要在http.conf里添加虚拟目录的映射。</p>
<p>http.conf里<br>查找：&quot;Alias&quot;，再继续找 &quot;icons&quot;，找到下面这样的一段：<br>Alias /icons/ &quot;G:/Program Files/Apache Group/Apache2/icons/&quot;</p>
<p>&lt;Directory &quot;G:/Program Files/Apache Group/Apache2/icons&quot;&gt;<br>   Options Indexes MultiViews<br>   AllowOverride None<br>   Order allow,deny<br>   Allow from all<br>&lt;/Directory&gt;</p>
<p>添加我需要的虚拟目录：<br>Alias /jsp-examples/ &quot;G:\Program Files\Apache Group\Tomcat 5.0.7\webapps\servlets-examples&quot;</p>
<p>&lt;Directory &quot;G:\Program Files\Apache Group\Tomcat 5.0.7\webapps\servlets-examples&quot;&gt;<br>   Options Indexes MultiViews<br>   AllowOverride None<br>   Order allow,deny<br>   Allow from all<br>&lt;/Directory&gt;<br>重新启动apache，这下<a href="http://127.0.0.1/jsp-examples/" target="_blank" rel="external">http://127.0.0.1/jsp-examples/</a>可以打开了<br>（注意和tomcat下打开有所不同，这是因为apache的默认文档不包含index.html）</p>
<p>我总算明白，以前参考了n篇我以前从来没有成搞成功，其中一个原因就是：<br>http.conf里&quot;G:/Program Files/Apache Group/Tomcat 5.0.7/webapps/ROOT&quot;这样含有空格的路径没有用引号引起来，导致apache无法正确解析，所以一直出错:(，而给出的例子大多都是装在<br>C:\apache,c:\tomcat5之类的路径，所以不会碰到这样的错误。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/技术/">技术</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Web应用/">Web应用</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/48/#comments" class="ds-thread-count comments-count-link" data-thread-key="48/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/47/" title="Internet Explorer Developer Toolbar Beta ..解脱了" itemprop="url">Internet Explorer Developer Toolbar Beta ..解脱了</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="淘宝文通" target="_blank" itemprop="author">淘宝文通</a>
		
  <p class="article-time">
    <time datetime="2007-01-19T13:32:54.000Z" itemprop="datePublished"> 发表于 2007-01-19</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>居然一直不知道有这个东东。老是用FireFox的Web Developer Toolbar先调试，可是FireFox和IE的差距还是蛮大的，每次都搞的得不常失。郁闷。</p>
<p>这次有Internet Explorer Developer Toolbar 了，一看功能还算过的去，终于可以解脱了。</p>
<p><img src="http://canyousee.blogbus.com/files/1169213520.jpg" alt="http://canyousee.blogbus.com/files/1169213520.jpg"></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/技术/">技术</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Web应用/">Web应用</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/47/#comments" class="ds-thread-count comments-count-link" data-thread-key="47/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/46/" title="面向搜索引擎的URL设计" itemprop="url">面向搜索引擎的URL设计</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="淘宝文通" target="_blank" itemprop="author">淘宝文通</a>
		
  <p class="article-time">
    <time datetime="2007-01-12T09:18:13.000Z" itemprop="datePublished"> 发表于 2007-01-12</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>版权声明：可以任意转载，转载时请务必以超链接形式标明文章原始出处和作者信息及本声明<br><a href="http://www.chedong.com/tech/google_url.html" target="_blank" rel="external">http://www.chedong.com/tech/google_url.html</a></p>
<p>关键词：&quot;url rewrite&quot; mod_rewrite isapi rewrite path_info iis &quot;search engine friendly&quot;</p>
<p>内容摘要：不得不承认，将动态网页链接rewriting成静态链接是最保险和稳定的面向搜索引擎优化方式</p>
<p>此外随着互联网上的内容以惊人速度的增长也越来越突出了搜索引擎的重要性，如果网站想更好地被搜索引擎收录，网站设计除了面向用户友好（User Friendly）外，<a href="http://www.chedong.com/tech/google.html" target="_blank" rel="external">搜索引擎友好（Search Engine Friendly）的设计也是非常重要的</a>。进入搜索引擎的页面内容越多，则被用户用不同的关键词找到的几率越大。<a href="http://pr.efactory.de/e-number-of-pages.shtml" target="_blank" rel="external">在Google的算法调查</a>一文中提到一个站点被Google索引页面的数量其实对PageRank也是有一定影响的。由于Google 突出的是整个网络中相对静态的部分（动态网页索引量比较小）,链接地址相对固定的静态网页比较适合被Google索引（怪不得很多大网站的邮件列表归档和BLOG按日期归档的文档很容被搜的到），因此很多关于面向搜索引擎 URL设计优化(URI Pretty)的文章中提到了很多利用一定机制将动态网页参数变成像静态网页的形式：<br>比如可以将：<a href="http://phpunixman.sourceforge.net/index.php?mode=man&amp;parameter=ls" target="_blank" rel="external"><br>http://phpunixman.sourceforge.net/index.php?mode=man&amp;parameter=ls</a><br>变成：<br><a href="http://phpunixman.sourceforge.net/index.php/man/ls" target="_blank" rel="external">http://phpunixman.sourceforge.net/index.php/man/ls</a></p>
<p>实现方式主要有2种：</p>
<ul>
<li><a href="http://www.chedong.com/tech/google_url.html#rewrite" target="_blank" rel="external">基于url rewrite</a><br><a href="http://www.helicontech.com/download/" target="_blank" rel="external">IIS的ISAPI REWRITE下载（免费）</a>*   <a href="http://www.chedong.com/tech/google_url.html#path_info" target="_blank" rel="external">基于path_info</a></li>
</ul>
<h2 id="把URI地址用作参数传递：URL-REWRITE"><a href="#把URI地址用作参数传递：URL-REWRITE" class="headerlink" title="把URI地址用作参数传递：URL REWRITE"></a><a name="rewrite"></a>把URI地址用作参数传递：URL REWRITE</h2><p>最简单的是基于各种WEB服务器中的URL重写转向（Rewrite）模块的URL转换：<br>这样几乎可以不修改程序的实现将 news.asp?id=234 这样的链接映射成 news/234.html，从外面看上去和静态链接一样。Apache服务器上有一个模块（非缺省）：mod_rewrite：URL REWRITE功能之强大足够写上一本书。</p>
<p>当我需要将将news.asp?id=234的映射成news/234.html时，只需设置：<br>RewriteRule /news/(\d+).html /news.asp\?id=$1 [N,I]<br>这样就把 /news/234.html 这样的请求映射成了 /news.asp?id=234<br>当有对/news/234.html的请求时：web服务器会把实际请求转发给/news.asp?id=234</p>
<p>而在IIS也有相应的REWRITE模块：比如<a href="http://www.helicontech.com/" target="_blank" rel="external">ISAPI REWRITE</a>和<a href="http://www.qwerksoft.com/products/iisrewrite/" target="_blank" rel="external">IIS REWRITE</a>，语法都是基于正则表达式，因此配置几乎和apache的mod_rewrite是相同的：</p>
<p>比对于某一个简单应用可以是：<br>RewriteRule /news/(\d+).html /news/news.php\?id=$1 [N,I]<br>这样就把 <a href="http://www.chedong.com/news/234.html" target="_blank" rel="external">http://www.chedong.com/news/234.html</a> 映射到了 <a href="http://www.chedong.com/news/news.php?id=234" target="_blank" rel="external">http://www.chedong.com/news/news.php?id=234</a></p>
<p>一个更通用的能够将所有的动态页面进行参数映射的表达式是：<br>把 <a href="http://www.myhost.com/foo.php?a=A&amp;b=B&amp;c=C" target="_blank" rel="external">http://www.myhost.com/foo.php?a=A&amp;b=B&amp;c=C</a><br>表现成 <a href="http://www.myhost.com/foo.php/a/A/b/B/c/C。" target="_blank" rel="external">http://www.myhost.com/foo.php/a/A/b/B/c/C。</a><br>RewriteRule (.<em>?.php)(\?[^/]</em>)?/([^/]<em>)/([^/]</em>)(.+?)?$1(?2$2&amp;:\?)$3=$4?5$5: [N,I] </p>
<p>以下是针对phpBB的一个Apache mod_rewrite配置样例：</p>
<pre>    RewriteEngine On
    RewriteRule /forum/topic_(.+)\.html$  /forum/viewtopic.php?t=$1 [L]
    RewriteRule /forum/forum_(.+)\.html$ /forum/viewforum.php?f=$1 [L]
    RewriteRule /forum/user_(.+)\.html$  /forum/profile.php?mode=viewprofile&u=$1  [L]
</pre>

<p>这样设置后就可以通过topic_1234.html forum_2.html user_34.html这样的链接访问原来的动态页面了。</p>
<p>通过URL REWRITE还有一些好处：<br>mod_rewrite和isapirewrite基本兼容，但是还是有些不同，比如：isapirewrite中&quot;?&quot;需要转义成&quot;\?&quot;，mod_rewrite不用，isapirewrite支持 &quot;\d+&quot; （全部数字），mod_rewrite不支持 </p>
<ul>
<li>隐藏后台实现：这在后台应用平台的迁移时非常有用：当从asp迁移到java平台时，对于前台用户来说，根本感受不到后台应用的变化；*   简化数据校验：因为像(\d+)这样的参数，可以有效的控制数字的格式甚至位数；</li>
</ul>
<p>比如我们需要将应用从news.asp?id=234迁移成news.php?query=234时，前台的表现可以一直保持为 news/234.html。从实现应用和前台表现的分离：保持了URL的稳定性，而使用mod_rewrite甚至可以把请求转发到其他后台服务器上。</p>
<h2 id="基于PATH-INFO的URL美化"><a href="#基于PATH-INFO的URL美化" class="headerlink" title="基于PATH_INFO的URL美化"></a><a name="path_info"></a>基于PATH_INFO的URL美化</h2><p>Url美化的另外一个方式就是基于PATH_INFO：<br>PATH_INFO是一个CGI 1.1的标准，经常发现很多跟在CGI后面的&quot;/value_1/value_2&quot;就是PATH_INFO参数：<br>比如：<a href="http://phpunixman.sourceforge.net/index.php/man/ls" target="_blank" rel="external">http://phpunixman.sourceforge.net/index.php/man/ls</a> 中：$PATH_INFO = &quot;/man/ls&quot;</p>
<p>PATH_INFO是CGI标准，因此PHP Servlet等都有的支持。比如Servlet中就有request.getPathInfo()方法。<br>注意：/myapp/servlet/Hello/foo的 getPathInfo()返回的是/foo，而/myapp/dir/hello.jsp/foo的getPathInfo()将返回的 /hello.jsp，从这里你也可以知道jsp其实就是一个Servlet的PATH_INFO参数。ASP不支持PATH_INFO<br>PHP中基于PATH_INFO的参数解析的例子如下：<br>//注意：参数按&quot;/&quot;分割，第一个参数是空的：从/param1/param2中解析出$param1 $param2这2个参数<br>if ( isset($_SERVER[&quot;PATH_INFO&quot;]) ) {<br>    list($nothing, $param1, $param2) = explode(‘/‘, $_SERVER[&quot;PATH_INFO&quot;]);<br>}</p>
<p>如何隐蔽应用：例如 .php，的扩展名：<br>在APACHE中这样配置：<br>&lt;FilesMatch &quot;^app_name$&quot;&gt;<br>    ForceType application/x-httpd-php<br>&lt;/FilesMatch&gt;</p>
<p>如何更像静态页面：app_name/my/app.html<br>解析的PATH_INFO参数的时候，把最后一个参数的最后5个字符“.html”截断即可。<br>注意：APACHE2中缺省是不允许PATH_INFO的，需要设置 AcceptPathInfo on</p>
<p>特别是针对使用虚拟主机用户，无权安装和配置mod_rewrite的时候，PATH_INFO往往就成了唯一的选择。</p>
<p>OK，这样以后看见类似于<a href="http://www.example.com/article/234这样的网页你就知道可能是" target="_blank" rel="external">http://www.example.com/article/234这样的网页你就知道可能是</a> article/show.php?id=234这个php程序生成的动态网页，很多站点表面看上去可能有很多静态目录，其实很有可能都是使用1，2个程序实现的内容发布。比如很多WIKIWIKI系统都使用了这个机制：整个系统就一个简单的wiki程序，而看上去的目录其实都是这个应用拿后面的地址作为参数的查询结果。</p>
<p>利用基于MOD_REWRITE/PATH_INFO ＋ CACHE服务器的解决方案对原有的动态发布系统进行改造，也可以大大降低旧有系统升级到新的内容管理系统的成本。并且方便了搜索引擎收录入索引。</p>
<h2 id="附：如何在IIS上利用PHP支持PATH-INFO"><a href="#附：如何在IIS上利用PHP支持PATH-INFO" class="headerlink" title="附：如何在IIS上利用PHP支持PATH_INFO"></a><a name="page"></a>附：如何在IIS上利用PHP支持PATH_INFO</h2><p>PHP的ISAPI模式安装备忘：只试成 php-4.2.3-Win32</p>
<h1 id="解包目录"><a href="#解包目录" class="headerlink" title="解包目录"></a>解包目录</h1><p>php-4.2.3-Win32.zip c:\php</p>
<h1 id="PHP-INI初始化文件"><a href="#PHP-INI初始化文件" class="headerlink" title="PHP.INI初始化文件"></a>PHP.INI初始化文件</h1><p>复制：c:\php\php.ini-dist 到 c:\winnt\php.ini</p>
<h1 id="配置文件关联"><a href="#配置文件关联" class="headerlink" title="配置文件关联"></a>配置文件关联</h1><p>按照install.txt中的说明配置文件关联</p>
<h1 id="运行库文件"><a href="#运行库文件" class="headerlink" title="运行库文件"></a>运行库文件</h1><p>复制 c:\php\php4ts.dll 到 c:\winnt\system32\php4ts.dll</p>
<p>这样运行后：会发现php把PATH_INFO映射到了物理路径上<br>Warning: Unknown(C:\CheDong\Downloads\ariadne\www\test.php\path): failed to create stream: No such file or directory in Unknown on line 0</p>
<p>Warning: Unknown(): Failed opening ‘C:\CheDong\Downloads\ariadne\www\test.php\path’ for inclusion (include_path=’.;c:\php4\pear’) in Unknown on line 0</p>
<h1 id="安装ariadne的PATCH"><a href="#安装ariadne的PATCH" class="headerlink" title="安装ariadne的PATCH"></a>安装ariadne的PATCH</h1><p>停止IIS服务<br>net stop iisadmin<br>ftp://ftp.muze.nl/pub/ariadne/win/iis/php-4.2.3/php4isapi.dll<br>覆盖原有的c:\php\sapi\php4isapi.dll</p>
<p>注：<br>ariadne是一个基于PATH_INFO的内容发布系统，<br>PHP 4.3.2 RC2中CGI模式的PATH_INFO已经修正，照常安装即可。</p>
<p>参考资料：<br>URL Rewrite文档：<br><a href="http://www.isapirewrite.com/docs/" target="_blank" rel="external">ISAPI REWRITE文档</a><br><a href="http://www.isapirewrite.com/download/" target="_blank" rel="external">IIS的ISAPI REWRITE下载（免费）</a><br><a href="http://httpd.apache.org/docs/mod/mod_rewrite.html" target="_blank" rel="external">http://httpd.apache.org/docs/mod/mod_rewrite.html</a><br><a href="http://httpd.apache.org/docs-2.0/mod/mod_rewrite.html" target="_blank" rel="external">http://httpd.apache.org/docs-2.0/mod/mod_rewrite.html</a></p>
<p>搜索引擎友好的URL设计<br><a href="http://www.sitepoint.com/article/485" target="_blank" rel="external">http://www.sitepoint.com/article/485</a><br><span>说不定这个URL原来就是articel.php?id=485<br></span></p>
<p>一个基于PATH_INFO的开源内容管理系统<br><a href="http://typo3.com/" target="_blank" rel="external">http://typo3.com/</a></p>
<p>Google的PageRank算法说明：<br><a href="http://pr.efactory.de/" target="_blank" rel="external">http://pr.efactory.de/</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/技术/">技术</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Web应用/">Web应用</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/46/#comments" class="ds-thread-count comments-count-link" data-thread-key="46/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/45/" title="Web OS eXo 帅" itemprop="url">Web OS eXo 帅</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="淘宝文通" target="_blank" itemprop="author">淘宝文通</a>
		
  <p class="article-time">
    <time datetime="2007-01-10T09:10:27.000Z" itemprop="datePublished"> 发表于 2007-01-10</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><img src="http://canyousee.blogbus.com/files/1168420187.jpg" alt="http://canyousee.blogbus.com/files/1168420187.jpg"></p>
<p><img src="http://canyousee.blogbus.com/files/1168420165.jpg" alt="http://canyousee.blogbus.com/files/1168420165.jpg"></p>
<p><img src="http://canyousee.blogbus.com/files/1168420154.jpg" alt="http://canyousee.blogbus.com/files/1168420154.jpg"></p>
<p><img src="http://canyousee.blogbus.com/files/1168420147.jpg" alt="http://canyousee.blogbus.com/files/1168420147.jpg"></p>
<p><img src="http://canyousee.blogbus.com/files/1168420124.jpg" alt="http://canyousee.blogbus.com/files/1168420124.jpg"></p>
<p>

</p><p>

</p><p>AJAX的产物..帅呆了</p>
<p> <a href="http://www.exoplatform.com/company/faces/public/site" target="_blank" rel="external">http://www.exoplatform.com/company/faces/public/site</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/技术/">技术</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/AJAX/">AJAX</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/45/#comments" class="ds-thread-count comments-count-link" data-thread-key="45/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/44/" title="MySQL存储过程资料收集" itemprop="url">MySQL存储过程资料收集</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="淘宝文通" target="_blank" itemprop="author">淘宝文通</a>
		
  <p class="article-time">
    <time datetime="2007-01-10T05:23:13.000Z" itemprop="datePublished"> 发表于 2007-01-10</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h5 id="表A"><a href="#表A" class="headerlink" title="表A"></a>表A</h5><table width="542" cellspacing="1" cellpadding="0" border="0"><br><tbody><br><tr><br><td><br><table width="535" cellpadding="0" border="0"><br><tbody><br><tr><br><td width="172" valign="top"><br><p align="left"><strong>声明</strong><br><br></p></td><br><td width="349" valign="top"><br><p align="left"><strong>描述</strong><br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">CREATE PROCEDURE<br><br></p></td><br><td width="349" valign="top"><br><p align="left">建立一个存放在MySQL数据库的表格的存储过程。<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">CREATE FUNCTION<br><br></p></td><br><td width="349" valign="top"><br><p align="left">建立一个用户自定义的函数，尤其是返回数据的存储过程。<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">ALTER PROCEDURE<br><br></p></td><br><td width="349" valign="top"><br><p align="left">更改用CREATE PROCEDURE 建立的预先指定的存储过程，其不会影响相关存储过程或存储功能。.<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">ALTER FUNCTION<br><br></p></td><br><td width="349" valign="top"><br><p align="left">更改用CREATE FUNCTION 建立的预先指定的存储过程，其不会影响相关存储过程或存储功能。.<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">DROP PROCEDURE<br><br></p></td><br><td width="349" valign="top"><br><p align="left">从MySQL的表格中删除一个或多个存储过程。<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">DROP FUNCTION<br><br></p></td><br><td width="349" valign="top"><br><p align="left">从MySQL的表格中删除一个或多个存储函数。<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">SHOW CREATE PROCEDURE<br><br></p></td><br><td width="349" valign="top"><br><p align="left">返回使用CREATE PROCEDURE<br>建立的预先指定的存储过程的文本。这一声明是SQL:2003规范的一个MySQL扩展。<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">SHOW CREATE FUNCTION<br><br></p></td><br><td width="349" valign="top"><br><p align="left">返回使用CREATE<br> FUNCTION建立的预先指定的存储过程的文本。这一声明是SQL:2003规范的一个MySQL扩展。<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">SHOW PROCEDURE STATUS<br><br></p></td><br><td width="349" valign="top"><br><p align="left">返回一个预先指定的存储过程的特性，包括名称、类型、建立者、建立日期、以及更改日期。这一声明是SQL:2003规范的一个MySQL扩展。<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">SHOW FUNCTION STATUS<br><br></p></td><br><td width="349" valign="top"><br><p align="left">返回一个预先指定的存储函数的特性，包括名称、类型、建立者、建立日期、以及更改日期。这一声明是SQL:2003规范的一个MySQL扩展。<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">CALL<br><br></p></td><br><td width="349" valign="top"><br><p align="left">调用一个使用CREATE PROCEDURE建立的预先指定的存储过程。<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">BEGIN … END<br><br></p></td><br><td width="349" valign="top"><br><p align="left">包含一组执行的多声明。<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">DECLARE<br><br></p></td><br><td width="349" valign="top"><br><p align="left">用于指定当地变量、环境、处理器，以及指针。<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">SET<br><br></p></td><br><td width="349" valign="top"><br><p align="left">用于更改当地和全局服务器变量的值。<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">SELECT … INTO<br><br></p></td><br><td width="349" valign="top"><br><p align="left">用于存储显示变量的纵列。<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">OPEN<br><br></p></td><br><td width="349" valign="top"><br><p align="left">用于打开一个指针。<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">FETCH<br><br></p></td><br><td width="349" valign="top"><br><p align="left">使用特定指针来获得下一列。<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">CLOSE<br><br></p></td><br><td width="349" valign="top"><br><p align="left">用于关闭和打开指针。<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">IF<br><br></p></td><br><td width="349" valign="top"><br><p align="left">一个An if-then-else-end if 声明。<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">CASE … WHEN<br><br></p></td><br><td width="349" valign="top"><br><p align="left">一个 case声明的结构<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">LOOP<br><br></p></td><br><td width="349" valign="top"><br><p align="left">一个简单的循环结构；可以使用LEAVE 语句来退出。<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">LEAVE<br><br></p></td><br><td width="349" valign="top"><br><p align="left">用于退出IF，CASE，LOOP，REPEAT以及WHILE 语句。<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">ITERATE<br><br></p></td><br><td width="349" valign="top"><br><p align="left">用于重新开始循环。<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">REPEAT<br><br></p></td><br><td width="349" valign="top"><br><p align="left">在结束时测试的循环。<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">WHILE<br><br></p></td><br><td width="349" valign="top"><br><p align="left">在开始时测试的循环。<br><br></p></td></tr><br><tr><br><td width="172" valign="top"><br><p align="left">RETURNS<br><br></p></td><br><td width="349" valign="top"><br><p align="left">返回一个存储过程的值。<br><br></p></td></tr></tbody></table><br></td></tr></tbody></table>

<p>MySQL 5.0支持存储过程语句。</p>
<table><br><tbody><br><tr><br><td><br><div class="cnt"><span style="font-weight: bold">一.创建存储过程</span><br><br><div style="margin-left: 40px">1.基本语法：<br><br><div style="margin-left: 40px">create procedure sp_name()<br>begin<br>………<br>end<br></div>2.参数传递<br></div><span style="font-weight: bold">二.调用存储过程</span><br><br><div style="margin-left: 40px">1.基本语法：call sp_name()<br>注意：存储过程名称后面必须加括号，哪怕该存储过程没有参数传递<br></div><span style="font-weight: bold">三.删除存储过程</span><br><br><div style="margin-left: 40px">1.基本语法：<br>drop procedure sp_name//<br>2.注意事项<br>(1)不能在一个存储过程中删除另一个存储过程，只能调用另一个存储过程<br></div><span style="font-weight: bold">四.区块，条件，循环<br></span><br><div style="margin-left: 40px">1.区块定义，常用<br>begin<br>……<br>end;<br>也可以给区块起别名，如：<br>lable:begin<br>………..<br>end lable;<br>可以用leave lable;跳出区块，执行区块以后的代码<br>2.条件语句<br><br><div><br><div><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt=""><span>if</span><span> 条件 </span><span>then</span><span><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="">statement<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt=""></span><span>else</span><span><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="">statement<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt=""></span><span>end</span><span>&nbsp;</span><span>if</span><span>;</span></div></div><br>3.循环语句<br>(1).while循环<br><br><div><br><div><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt=""><span>[</span><span>label:</span><span>]</span><span>&nbsp;</span><span>WHILE</span><span> expression DO<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt=""><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="">statements<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt=""><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt=""></span><span>END</span><span>&nbsp;</span><span>WHILE</span><span>&nbsp;</span><span>[</span><span>label</span><span>]</span><span> ;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt=""></span></div></div><br></div><br><div style="margin-left: 40px">(2).loop循环<br><br><div><br><div><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt=""><span>[</span><span>label:</span><span>]</span><span> LOOP<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt=""><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="">statements<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt=""><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt=""></span><span>END</span><span> LOOP </span><span>[</span><span>label</span><span>]</span><span>;</span></div></div><br></div><br><div style="margin-left: 40px">(3).repeat until循环<br><br><div><br><div><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt=""><span>[</span><span>label:</span><span>]</span><span> REPEAT<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt=""><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="">statements<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt=""><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="">UNTIL expression<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt=""><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt=""></span><span>END</span><span> REPEAT </span><span>[</span><span>label</span><span>]</span><span> ;</span></div></div><br></div><span style="font-weight: bold">五.其他常用命令</span><br><br><div style="margin-left: 40px">1.show procedure status<br>显示数据库中所有存储的存储过程基本信息，包括所属数据库，存储过程名称，创建时间等<br>2.show create procedure sp_name<br></div></div></td></tr></tbody></table>

<div style="margin: 15px"><br><strong><u>存储过程创建语法:</u></strong><br><br><table align="center"><br><tbody><br><tr><br><td><br>CREATE PROCEDURE procedure_name ([parameter[,…])<br><br>[LANGUAGE SQL]<br><br>[ [NOT] DETERMINISTIC ]<br><br>[{CONTAINS SQL|MODIFIES SQL DATA|READS SQL DATA|NO SQL}]<br><br>[SQL SECURITY {DEFINER|INVOKER} ]<br><br>[COMMENT comment_string]<br><br>procedure_statements<br><br></td></tr></tbody></table><br><br>可用SHOW PROCEDURE STATUS 或 SHOW CREATE PROCEDURE<br>来查看存储过程信息<br>另，系统表INFORMATION_SCHEMA.ROUTINES也包含了存储过程的一些信息<br>同样地,函数也可以使用同样方式查看(SHOW<br>FUNCTION STATUS)<br><br><strong><u>函数的创建</u></strong><br><br><table align="center"><br><tbody><br><tr><br><td><br>CREATE FUNCTION function_name (parameter[,…])<br><br>RETURNS datatype<br><br>[LANGUAGE SQL]<br><br>[ [NOT] DETERMINISTIC ]<br><br>[ {CONTAINS SQL | NO SQL | MODIFIES SQL DATA | READS SQL DATA} ]<br><br>[ SQL SECURITY {DEFINER|INVOKER} ]<br><br>[ COMMENT comment_string ]<br><br>语句体<br><br></td></tr></tbody></table><br><br>函数与存储过程基本一样，其区别主要有:<br>1、  要使用RETURNS指定返回类型<br>2、<br>函数必须返回值,且在语句体中使用RETURN返回(注意:指定返回类型用RETURNS,返回值用RETURN)<br>3、<br>参数不区分IN，OUT，全部为IN类形<br><br>例:<br>CREATE FUNCTION cust_status(in_status CHAR(1))<br>    RETURNS<br>VARCHAR(20)<br>BEGIN<br>    DECLARE long_status VARCHAR(20);<br>    IF in_status<br>= ‘O’ THEN        SET long_status=’Overdue’;<br>    ELSEIF in_status = ‘U’<br>THEN    SET long_status=’Up to date’;<br>    ELSEIF in_status = ‘N’ THEN    SET<br>long_status=’New’;<br>    END IF;<br><br>RETURN(long_status);<br>END;<br><br>调用:<br>SELECT<br>cust_status(‘O’);<br><br><u><strong>触发器</strong></u><br><br><table align="center"><br><tbody><br><tr><br><td><br>CREATE [DEFINER={user|CURRENT_USER}] TRIGGER trigger_name<br><br>{BEFORE|AFTER} {UPDATE|INSERT|DELETE}<br><br>ON table_name<br><br>FOR EACH ROW<br><br>trigger_statements<br><br></td></tr></tbody></table><br><br>意义:当对表table_name执行update，insert,delete操作之前(before)或之后(after)时触发语句trigger_statements操作<br><br>例:<br>mysql&gt; CREATE TRIGGER account_balance_au<br> AFTER UPDATE ON<br>account_balance FOR EACH ROW<br>BEGIN<br>  DECLARE dummy INT;<br>  IF<br>NEW.balance&lt;0 THEN<br>     SET NEW.balance=NULL;<br>  END<br>IF;<br>END<br><br>上述触发器表示:当更新表account_balance之后，如果更新的值balance小于0,则将它改为NULL,<br>注:如果为OLD.balance则表示更新前的原值<br><br></div>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/技术/">技术</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/数据库/">数据库</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/44/#comments" class="ds-thread-count comments-count-link" data-thread-key="44/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/43/" title="再写点游戏咯" itemprop="url">再写点游戏咯</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="淘宝文通" target="_blank" itemprop="author">淘宝文通</a>
		
  <p class="article-time">
    <time datetime="2006-12-15T11:51:02.000Z" itemprop="datePublished"> 发表于 2006-12-15</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>最近工作比较忙,都怎么游戏,现在写一点游戏希望能唤起我游戏的心!!!! </p>
<p>最近干了熟女(圣女贞德),和FFT相像的系统,画面(系统和FFT还是有很大的差距的),画面还是不错的,剧情….看不懂,据说很符合事实….反正对这个没啥感觉,如果出了美版或许还看得懂..系统加入了XX系统(不知道叫啥,就是打了背后的人可以重击)和技能合成系统(咋觉得和格兰迪亚很想的系统),可是每个人只能带6个技能就太不爽了,系统来说在PSP上还是不错的,LV5出品的…不过听说FFT要复刻PSP了…这个我喜欢….在游戏中期,去打了几次龙,结果任务等级立马提升很多,和剧情等级太不相称,以致于后面的游戏太没挑战,兴趣落了一大半,而且变身后的技能,都差不多,只不过颜色变了变,也没啥收集的欲望,简单来说熟女还算不错的SRPG,玩玩还可以.消遣消遣</p>
<p>然后又一起干了地牢围攻,觉得这次PSP版的太简单,真的太简单,我选的是女人,总的来说太强,拿弓箭的时候敌人进不了身,那双刀的时候,秒杀敌人(连最终BOSS也被我秒了<img src="http://public.blogbus.com/public/smiles/01-10.gif" alt="">),而且觉得传了衣服都太难看..(头像画的还可以),不过装备还是不错的,而且魔法的效果做的也不错,是psp上值得玩的一款游戏.</p>
<p>KILLZONE,在ps2上玩的FPS就是KILLZONE和BLACK,用手柄玩FPS还是有难度的(习惯了还好,不过在PSP上玩荣誉勋章…我晕<img src="http://public.blogbus.com/public/smiles/01-15.gif" alt="">),SONY曾经打算用KILLZONE来做HALO杀手的,不过显然没成功..-..-!!,不过这次的psp上的killzone还是不错的,记得有人评价为:不玩对不起自己…看的出做的还是听用心的.不错的画面,任务设计的也还可以,也有一定的难度,虽然单人战役有点短,不过在多人连线和挑战任务上还是可以发费很多时间的.推荐.</p>
<p>ACE X 从PS 到PS2 到PSP 皇牌空战基本每作我都要去尝试(GBA上的没玩过),这次的ACE X和以往的没啥大的革新,基本属于稳定的续作,操作也没怎么改变(除了那个口键用法稍有不同),PSP上的画面表现力还是不错的,比PS的好,驾驶战斗机的感觉还是不错的.嘻嘻,而且有人汉化了…嘻嘻</p>
<p>还有LOCO ROCO..嘻嘻 hoho</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/游戏人生/">游戏人生</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/游戏/">游戏</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/43/#comments" class="ds-thread-count comments-count-link" data-thread-key="43/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/42/" title="搞定Liunx下的JasperReports" itemprop="url">搞定Liunx下的JasperReports</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="淘宝文通" target="_blank" itemprop="author">淘宝文通</a>
		
  <p class="article-time">
    <time datetime="2006-12-15T05:38:11.000Z" itemprop="datePublished"> 发表于 2006-12-15</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>在一个Liunx下运行JasperReportS总是抛出Error initializing graphic environment的异常,跟踪JasperReports的源代码发现在net.sf.jasperreports.engine.util.JRGraphEnvInitializer中抛出异常,是GraphicsEnvironment.getLocalGraphicsEnvironment().getAvailableFontFamilyNames()这个方法出错,单写一个servlet测试抛出</p>
<p>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException<br>at java.nio.Buffer.position(Buffer.java:218)<br>at sun.font.TrueTypeFont.lookupName(TrueTypeFont.java:818)<br>at sun.font.TrueTypeFont.getFamilyName(TrueTypeFont.java:884)<br>at sun.java2d.SunGraphicsEnvironment.getAvailableFontFamilyNames(SunGraphicsEnvironment.java:476)<br>at sun.java2d.SunGraphicsEnvironment.getAvailableFontFamilyNames(SunGraphicsEnvironment.java:494)</p>
<p>这样的异常</p>
<p>Google一下发现这个问题还挺多的(JasperReports直接抛这个异常不就好了么,还自己抛一个出来,害我绕了很多圈圈)</p>
<p>这是一个Java的字体设置问题造成的</p>
<p>简单一个 export LANG=en_US.UTF<strong><font size="2">-</font></strong>8 </p>
<p>一般来说要设置 Linux 系统的环境变量只需要在 /etc/profile (全局) 或者 ~/.bashrc (单个用户) 即可。但是对于 LANG 变量来说，有时候你即使在所有这些初始化脚本里面 export 过了，LANG 的值还是纹丝不动。实际上，你需要去修改 /etc/sysconfig/i18n 文件里面的内容。</p>
<p>Ok问题解决了,看来当LANG设置为中文时就是出现这个问题,治本的方法还得改font.conf,不知那位大侠能倾囊相授.嘻嘻</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/技术/">技术</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Java/">Java</a><a href="/tags/Linux/">Linux</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/42/#comments" class="ds-thread-count comments-count-link" data-thread-key="42/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/41/" title="Jdk 6 , 野马, 新特性预览(转)" itemprop="url">Jdk 6 , 野马, 新特性预览(转)</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="淘宝文通" target="_blank" itemprop="author">淘宝文通</a>
		
  <p class="article-time">
    <time datetime="2006-12-14T08:22:04.000Z" itemprop="datePublished"> 发表于 2006-12-14</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>今天早上来看到了6.0的特性。收藏了。<img src="http://yuhlster.javaeye.com/images/forum/smiles/icon_biggrin.gif" alt=""></p>
<p>初探Java SE 6： 一个桌面赢家</p>
<p>一个有着丰富的Java经验的开发者试用了一下Java SE 6 Beta，并且认为Java SE 6 有希望成为桌面开发的一次革命。</p>
<p>by Eric Bruno (Translated by Xu Ting)</p>
<p>刚刚发布的Java Standard Edition 6 （Java SE<br>6，也被称为Mustang）beta版完整的包括了预定的新特性，对于主流的应用来说，已经足够稳定。我在第一时间下载并尝试了这个新?动物?，并且被<br>它全新的桌面特性所震撼。除了Java平台一贯以来的命名方式上的改变(去掉了2)，它还包含了包含了很多值得探索一下的新特性。这些新特性可以分为两<br>类：桌面和核心。</p>
<p>桌面上的改进主要集中在用户界面(UI)性能，以及，用本地化的接口与OS的桌面整合。核心部分则集中在提高开发人员的生产性，以及Java程序的可管理性上。Sun的Mustang团队也对Web Service以及安全性方面作出了显著的改进。</p>
<p>不管怎么样，无论你是一个应用程序开发人员，还是一个系统管理者，或者提供独立的工具，或者是一个安全专家，Java SE 6都为你准备了些东西。这片文章主要是详细讨论了一些我试用过了的有趣的特性。</p>
<p>有关Java核心的新特性以及改进。</p>
<p>关于Java 核心部分，我们认为是部分((语言和工具)对所有的Java而言都是很基础的东西，包括从界面API到服务端API库。下面我将按照不同的分类来讨论这些与Java核心相关的特性。</p>
<p>开发人员的生产性</p>
<p>新的Java编译器API允许你从一个Java应用程序中去编译另外的Java源程序。在这样的编译的过程中，应用程序将根据计算出来的依赖关系去<br>访问那些相关的API库文件，这个过程也会产生Warning，Error以及其他一些在编译的时候会产生的消息。虽然这个功能是我不太会常去用的，但是<br>我很快发现了一种用法。比如：我在我的应用程序A中，快速的用这个特性来编译A的数据访问层代码。我可以用我的代码去生成并且编译我在A程序中要去访问的<br>数据库表的类，最终的结果可以是一个从Ant脚本中生成出来的JAR文件。这样最显而易见的一个事实就是我可以在自己的程序中去重新编译生成这些重要的文<br>件，至少我可以不需要改动应用程序。</p>
<p>Java Scripting，是在Java<br>SE6中实现了的JSR223。这是一个脚本框架，提供了让脚本语言来访问Java内部的方法。你可以在运行的时候找到脚本引擎，然后调用这个引擎去执行<br>脚本。这个脚本API允许你为脚本语言提供Java支持。另外，Web Scripting<br>Framework允许脚本代码在任何的Servlet容器（例如Tomcat）中生成Web内容。</p>
<p>对于调试，Java平台的调试器(JPDA)已经提供了死锁诊测，并且可以为产生了死锁的对象生成堆栈信息。另外，Java SE 6允许在一个运行中的JVM上，添加不同的诊断工具 。</p>
<p>应用程序管理</p>
<p>Java SE<br>6中对内存泄漏增强了分析以及诊断能力。当遇到java.lang.OutOfMemory异常的时候，可以得到一个完整的堆栈信息，并且当堆已经满了的<br>时候，会产生一个Log文件来记录这个致命错误。另外，JVM还添加了一个选项，允许你在堆满的时候运行脚本。(这也就是提供了另外一种方法来诊断错误)</p>
<p>增强的JMX 监视API在MBean的属性值传入了一个特定的参数的时候，允许这个应用程序发送一个事件通告。（这里的属性值可以在很复杂的类型中）</p>
<p>对于Solaris 10的用户，为Solaris提供的Hotspot JVM中，提供了一种通过Solaris<br>DTrace(这是个系统的调试工具)来追踪显示JVM内部的活动情况，包括垃圾收集，类装载，线程，锁等等。我在JavaOne上得到了一个第一手的<br>DEMO，这个DEMO所显示的能追踪到的详细情况简直是太棒了。比如，当一个应用程序运行的时候，DTrace允许可以在任何地方中止代码，查看所有被<br>载入内存的库(不仅仅是Java的类库，甚至是系统级别的库)，并且可以单部跟踪到Solaris的内核中去，甚至可以直达硬件！Java新提供的这个工<br>具为全世界提供了一种系统级别的追踪调试手段。我还记得以前我在Solaris的JVM上经常会收到一些Signal8这样的错误，这个特性将会省去我许<br>多的猜测。</p>
<p>Web services</p>
<p>Java SE 6 包含了一些支持Web Services的新API。XML 数字签名API，允许你为基于Java上的Web<br>Services数据提供加密的可能。Java-XML Web Services<br>(JAX-WS)2.0API更新的以前称为JAX-RPC的API库。增强的Java-XML Binding<br>(JAXB)2.0包含了对XMLSchema的支持，以及将某个Class绑定到一个Schema上去。最后， Streaming API for<br>XML<br>(STaX)提供了一个双向API，这个API可以通过一个事件流来读取或者写入XML，其中包括跳过某个部分，然后直接关注与文档中的另外一个小部分的<br>能力。</p>
<p>安全</p>
<p>Java SE 6的安全部分，整合了GSS/Kerberos的操作API，LDAP上的JAAS认证，以及一个?请求安全认证?的框架，这个框架允许应用程序从一系列的协议中选择一种?请求安全认证?所用的协议。</p>
<p>桌面特性以及改进</p>
<p>Java长久以来，一直被认为是一个一流的服务器端软件的语言，但是桌面GUI应用上只能是二流地位。<br>Sun的Java桌面工作小组正在努力改变这个现状。通过调用系统的GUI接口，来更好的显示Java 的GUI应用。他们的努力不仅改善了Java<br>SE 6中的GUI性能，也改变了一些Java GUI应用程序的行为。(比如提供了DnD的支持)</p>
<p>Java SE 6中的桌面新特性，大部分 都来自于JDesktop Integration<br>Components（JDIC）项目。JDIC项目为Java的应用程序提供了访问OS底层本地桌面GUI接口的方法，例如浏览器，Email编辑器，<br>文件类型绑定，系统托盘，阴应用程序启动，打印等等。 下面是那些Java SE 6中最显著的一些桌面特性。</p>
<pre><code>* 启动界面的支持。启动界面(Splash Screens)是一个应用程序启动的时候，用户等待的时候给用户看的界面。Java SE 6中的启动界面甚至可以在JVM启动之前显示出来。

* JFC以及Swing中的改进：

      o Java SE 6通过调用Windows的API，不仅提高了 GUI的性能，也保证了在当前以及以后的Windows版本中的兼容

      o 增强的布局管理包含了一个可定制的布局管理，另外还包含了一些使得GUI元素布局的时候更加简单的方法。

      o Java SE 6中显著的增强了Swing控件的托拽功能，并且是可以定制的。

      o 真正的双缓冲，提供了快速，平滑的图形效果。
</code></pre><p> *<br>系统托盘的支持。在java.awt包中，增加了SystemTray和TrayIcon两个类，它们允许你在Windows或者使用GNome<br>的Linux的系统托盘区，添加图标，提示信息，弹出菜单。系统托盘区是所有的应用程序都共享的区域，通常在屏幕的右下角。通过系统的动作和事件可以允许<br>你的Java应用程序去相应在托盘区的鼠标事件。我发现这个特性也同样对我的服务器程序非常有用，比如，我可以通过桌面API，非常轻松的启动一个浏览<br>器，并且打开这个服务器程序的管理界面(当然，是HTML页面)。在Linux或者Window上，我再也不需要自己输入管理界面的URL和端口号了，只<br>要简单的点击一下托盘图标就可以:)</p>
<pre><code>* JTable支持打印了

* Java 2D方面增强了许多。 主要是在字符显示上，尤其在LCD的显示屏上。整合了许多字体反锯齿的设定来保证平滑的显示文字。
</code></pre><ul>
<li><p>新的java.awt.Desktop包。Java SE 6中这个新的包目标是让Java<br>的GUI应用程序成为?一等公民?。有了这个包，Java的应用程序可以启动默认的浏览器和邮件客户端，并且整合了一些通用桌面应用程序的启动。例如启动<br>OpenOffice，然后打开，编辑，打印一些制定的类型。Desktop包通过action事件来实现的，你可以将这些Action整合到你的应用程<br>序中去。</p>
<ul>
<li>国际化。Java SE 6提供了一些本地化特性的可扩充性，比如日期格式，Unicode文字的一致性，资源簇等等。</li>
</ul>
</li>
</ul>
<p>一场Java桌面革命</p>
<p>Java SE 6提供了许多的特性，改进，bug修改等<br>(这些可以参考我的另外一篇翻译)，本文旨在对Java这个即将到来的重要版本之前做一个历史的记录。 这个改动涉及到了Java<br>SE如此多的方面，乃至几乎所有的Java应用程序都会被波及到，包括那些Java EE的应用程序。</p>
<p>Java SE 6有潜力成就一场桌面革命，就如同Java 2成就了一场服务器革命。最好是现在就为这场即将到来的风暴做好准备，让你自己成为革命的先锋人员。</p>
<p>Eric Bruno is a New York-based consultant who has built high-volume<br>Web applications, database systems, and real-time transactional systems<br>in Java and C++. Visit www.ericbruno.com for more about him.</p>
<p>Posted in Java Tech | No Comments »</p>
<p>New features in Java SE 6.0</p>
<p>Monday, March 6th, 2006</p>
<p>A few days ago, Sun just released Java SE 6.0 Beta. And I had viewed<br>the release notes and some articles discussed the new features .</p>
<p>Here is a translation about the new features and enhancement list<br>provided by Sun officially. And I had translated this to<br>Chinese(Simplified Chinese.)</p>
<p>The original document is placed HERE.</p>
<p>Here is the translation.</p>
<p>#Thanks to Zou, he helped me review this translation.</p>
<p>#There are some features about the compiler and VM are remained as<br>original, because I am short at this areas. If you have any<br>suggestions, please leave your comments of send a mail to my mailbox:<br>tonny.xugmail.com</p>
<p>TOTO.net     braket</p>
<p>Just another WordPress weblog</p>
<p>Blog     Technical Articles     Photos     Resume     </p>
<p>Java SE 6.0(代号?Mustang&quot;)是即将面世的下一版本Java。相比较J2SE 5.0，添加了许多重要的特性和增强功能，这些新特性和增强功能如下面的列表。</p>
<p>所有的条目都按照涉及范围以及所属的组件分类。第一列表示了修改涉及的范围。</p>
<pre><code>* JSR - 表示这是实现了某一项JSR（Java标准需求）的重大特性

* API - 表示新添加的API

* IMP - 表示没有增加新的API，只是作了一些类似性能增强的改进。
</code></pre><p>请注意：这是个Beta里程碑，?Mustang?还在继续开发中。这些都是JSR270中的内容。JSR270本身并没有定义新的特性，但是它列<br>举了一系列的其他JSR或者是正在进行评审中的需求。?Mustang?的最终发布版的目标是包含JSR270中所有的特性，但是不保证（有些已经商议通<br>过的特性可能最终不会在?野马?版本中实现）。 </p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/技术/">技术</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Java/">Java</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/41/#comments" class="ds-thread-count comments-count-link" data-thread-key="41/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <a class="extend prev" rel="prev" href="/page/7/"><span></span>Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="extend next" rel="next" href="/page/9/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/学海无涯/" title="学海无涯">学海无涯<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/技术/" title="技术">技术<sup>91</sup></a></li>
		  
		
		  
			<li><a href="/categories/游戏人生/" title="游戏人生">游戏人生<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/生活/" title="生活">生活<sup>13</sup></a></li>
		  
		
		  
			<li><a href="/categories/管理/" title="管理">管理<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/谈音赏乐/" title="谈音赏乐">谈音赏乐<sup>6</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/Java/" title="Java">Java<sup>38</sup></a></li>
			
		
			
				<li><a href="/tags/随笔/" title="随笔">随笔<sup>14</sup></a></li>
			
		
			
				<li><a href="/tags/MySQL/" title="MySQL">MySQL<sup>14</sup></a></li>
			
		
			
				<li><a href="/tags/C-C/" title="C/C++">C/C++<sup>12</sup></a></li>
			
		
			
				<li><a href="/tags/Linux/" title="Linux">Linux<sup>11</sup></a></li>
			
		
			
				<li><a href="/tags/AJAX/" title="AJAX">AJAX<sup>11</sup></a></li>
			
		
			
				<li><a href="/tags/Eclipse/" title="Eclipse">Eclipse<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/InnoDB/" title="InnoDB">InnoDB<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/数据库/" title="数据库">数据库<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/Web应用/" title="Web应用">Web应用<sup>8</sup></a></li>
			
		
			
				<li><a href="/tags/Objective-C/" title="Objective-C">Objective-C<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/Music/" title="Music">Music<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/无线/" title="无线">无线<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Flex/" title="Flex">Flex<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/RCP/" title="RCP">RCP<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/iOS/" title="iOS">iOS<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Groovy/" title="Groovy">Groovy<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Python/" title="Python">Python<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Cache/" title="Cache">Cache<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/开源/" title="开源">开源<sup>2</sup></a></li>
			
		
		</ul>
</div>


  
<div class="commentslist">
  <p class="asidetitle">最近评论</p>
  <ul class="ds-recent-comments" data-num-items="5" data-show-avatars="1" data-show-time="1" data-show-admin="1" data-excerpt-length="32" data-show-title="1"></ul>
</div>
<!--多说js加载开始，一个页面只需要加载一次 -->
<script type="text/javascript">
  var duoshuoQuery = {short_name:"zephyrleaves"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>
<!--多说js加载结束，一个页面只需要加载一次 -->


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Kevin Huang in Alibaba. <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/1715949742" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		<a href="https://github.com/zephyrleaves" target="_blank" class="icon-github" title="github"></a>
		
		
		
		<a href="https://twitter.com/zephyrleaves" target="_blank" class="icon-twitter" title="twitter"></a>
		
		
		<a href="https://www.facebook.com/kevin.huang.33046" target="_blank" class="icon-facebook" title="facebook"></a>
		
		
		<a href="https://www.linkedin.com/in/zephyrleaves" target="_blank" class="icon-linkedin" title="linkedin"></a>
		
		
		
		
		
		<a href="mailto:zephyrleaves@gmail.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2016 
		
		<a href="/about" target="_blank" title="淘宝文通">淘宝文通</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>




<script type="text/javascript">
  var duoshuoQuery = {short_name:"zephyrleaves"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?caf9488f7d7075299a8a32597f11861d";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<script>
var option = {
  engineKey: '33705c4343bfcd5aed49'
};
(function(w,d,t,u,n,s,e){
  s = d.createElement(t);
  s.src = u;
  s.async = 1;
  w[n] = function(r){
    w[n].opts = r;
  };
  e = d.getElementsByTagName(t)[0];
  e.parentNode.insertBefore(s, e);
})(window,document,'script','//tinysou-cdn.b0.upaiyun.com/ts.js','_ts');
_ts(option);
</script>

<!-- Tiny_search End -->

  </body>
 </html>
